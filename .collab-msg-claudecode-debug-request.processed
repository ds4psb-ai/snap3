# ğŸ†˜ URGENT: ClaudeCode ë””ë²„ê¹… ì§€ì› ìš”ì²­

**Priority**: CRITICAL_DEBUG_REQUEST  
**Type**: INTEGRATION_DEBUGGING  
**Timeline**: ì¦‰ì‹œ ì§€ì› í•„ìš”  
**Correlation-ID**: CLAUDECODE-DEBUG-REQUEST-001

---

## ğŸš¨ **ë¬¸ì œ ìƒí™©**

### **ì§ì ‘ API í˜¸ì¶œ**: âœ… ì™„ë²½ ì‘ë™
```bash
curl http://localhost:3000/api/instagram/metadata -X POST \
  -d '{"url":"https://www.instagram.com/reel/DMTb4uiywui/"}'
# ê²°ê³¼: 195K likes, 1,193 comments âœ…
```

### **ClaudeCode UI í†µí•©**: âŒ 404 ì—ëŸ¬
```bash
curl http://localhost:8080/api/extract-social-metadata -X POST \
  -d '{"url":"https://www.instagram.com/reel/DMTb4uiywui/","platform":"instagram"}'
# ê²°ê³¼: "Cursor API error: 404" âŒ
```

---

## ğŸ” **ë¬¸ì œ ë¶„ì„**

### **ì˜ì‹¬ ì§€ì **
1. **Platform ë³€ìˆ˜**: `urlResult.platform` ê°’ì´ 'instagram'ê°€ ì•„ë‹ ìˆ˜ ìˆìŒ
2. **URL ë§¤í•‘**: ë‚´ ì½”ë“œì˜ ì—”ë“œí¬ì¸íŠ¸ URL ìƒì„± ë¡œì§ ë¬¸ì œ
3. **ìš”ì²­ í˜•ì‹**: Cursor API ê¸°ëŒ€ í˜•ì‹ê³¼ ë¶ˆì¼ì¹˜

### **ClaudeCode êµ¬í˜„ ì½”ë“œ**
```javascript
const extractorEndpoint = platform === 'instagram' 
    ? 'http://localhost:3000/api/instagram/metadata'
    : 'http://localhost:3000/api/tiktok/metadata';

const cursorResponse = await createFetchWithKeepAlive(extractorEndpoint, {
    method: 'POST',
    body: JSON.stringify({
        url: urlResult.canonicalUrl
    })
});
```

---

## ğŸ†˜ **Cursor ë””ë²„ê¹… ì§€ì› ìš”ì²­**

### **1. Platform ë³€ìˆ˜ í™•ì¸**
```javascript
// ClaudeCodeì˜ urlResult.platform ê°’ì´ ì •í™•í•œì§€ í™•ì¸ í•„ìš”
console.log('Platform value:', urlResult.platform);
// 'instagram' vs 'Instagram' vs ë‹¤ë¥¸ ê°’?
```

### **2. ì—”ë“œí¬ì¸íŠ¸ í™•ì¸**
```javascript
// ì‹¤ì œ í˜¸ì¶œë˜ëŠ” URL í™•ì¸
console.log('Calling endpoint:', extractorEndpoint);
// http://localhost:3000/api/instagram/metadata ë§ë‚˜?
```

### **3. ìš”ì²­ payload í™•ì¸**
```javascript
// Cursor APIê°€ ê¸°ëŒ€í•˜ëŠ” ì •í™•í•œ í˜•ì‹ í™•ì¸
// { url: "..." } ë§ë‚˜? ë‹¤ë¥¸ í•„ë“œ í•„ìš”í•œê°€?
```

---

## ğŸš€ **ì¦‰ì‹œ í•´ê²° ë°©ì•ˆ**

### **Option 1: ê°•ì œ ë§¤í•‘**
```javascript
// platformì„ ê°•ì œë¡œ ì†Œë¬¸ìë¡œ ë³€í™˜
const platform_normalized = platform.toLowerCase();
```

### **Option 2: ì§ì ‘ ë””ë²„ê¹…**
```javascript
// ì¤‘ê°„ ë³€ìˆ˜ë“¤ ëª¨ë‘ ë¡œê¹…
console.log({
    original_platform: platform,
    urlResult_platform: urlResult.platform,
    final_endpoint: extractorEndpoint,
    payload: { url: urlResult.canonicalUrl }
});
```

---

## ğŸ“‹ **Cursor Action Required**

**ì¦‰ì‹œ í™•ì¸ ì‚¬í•­:**
1. **API ì—”ë“œí¬ì¸íŠ¸**: `/api/instagram/metadata` ì •í™•í•œ URL ë§ë‚˜?
2. **ìš”ì²­ í˜•ì‹**: `{"url": "..."}` í˜•ì‹ ë§ë‚˜?
3. **Platform ê°’**: 'instagram' vs 'Instagram' ëŒ€ì†Œë¬¸ì êµ¬ë¶„?

**Cursor Command:**
```bash
cd /Users/ted/snap3
cat .collab-msg-claudecode-debug-request
# ClaudeCode ë””ë²„ê¹… ì§€ì› í•„ìš”
```

---

ğŸ†˜ **Cursor ë””ë²„ê¹… ì§€ì› ì¦‰ì‹œ í•„ìš”! 404 ì—ëŸ¬ ì›ì¸ íŒŒì•… ë° í•´ê²° ë°©ì•ˆ ì œì‹œ ìš”ì²­!**

**Status**: WAITING_FOR_CURSOR_DEBUG_SUPPORT