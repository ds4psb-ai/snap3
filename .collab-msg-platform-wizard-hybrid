# ğŸ“¨ Cursor - Platform Wizard í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë“œ êµ¬í˜„

**Priority**: CRITICAL  
**Timeline**: ì¦‰ì‹œ ì‹œì‘ â†’ 30ë¶„ ë‚´ í•µì‹¬ ê¸°ëŠ¥ ì™„ì„±  
**Dependencies**: T4 Saga ì™„ë£Œ âœ…, ì¬ê·€ê°œì„  ë°±ê·¸ë¼ìš´ë“œ í™œì„±í™” âœ…

---

## ğŸ¯ **í•µì‹¬ êµ¬í˜„ ëª©í‘œ**

### **Primary Target**: Instagram/TikTok ìë™í™” 50% â†’ 90%+
- **Current Pain**: ì‚¬ìš©ìê°€ 5-8ë¶„ê°„ ìˆ˜ë™ìœ¼ë¡œ view/like/comment ì…ë ¥
- **Target**: URL ì…ë ¥ â†’ 30ì´ˆ-1ë¶„ ìë™ ì²˜ë¦¬
- **Method**: Cursor ë©”íƒ€ë°ì´í„° ì¶”ì¶œ API + ìë™ í¼ ì±„ìš°ê¸°

---

## ğŸ“± **êµ¬í˜„ ìš”êµ¬ì‚¬í•­**

### **Component**: `src/components/platform/PlatformWizard.tsx`

#### **ê¸°ëŠ¥ 1: URL ê°ì§€ + í”Œë«í¼ ìë™ ì¸ì‹**
```typescript
// URL ì…ë ¥ â†’ í”Œë«í¼ ìë™ ê°ì§€
const detectPlatform = (url: string) => {
  if (url.includes('instagram.com')) return 'instagram';
  if (url.includes('tiktok.com')) return 'tiktok';  
  if (url.includes('youtube.com')) return 'youtube';
  return 'unknown';
};
```

#### **ê¸°ëŠ¥ 2: Cursor ë©”íƒ€ë°ì´í„° ì¶”ì¶œ API í†µí•©**
```typescript
// POST /api/extract-social-metadata í˜¸ì¶œ
const extractMetadata = async (url: string, platform: string) => {
  const response = await fetch('/api/extract-social-metadata', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ url, platform })
  });
  
  return response.json(); // {views, likes, comments, top_comments}
};
```

#### **ê¸°ëŠ¥ 3: ìë™ í¼ ì±„ìš°ê¸° + ê²€ì¦**
```typescript
// ì¶”ì¶œëœ ë©”íƒ€ë°ì´í„°ë¡œ í¼ ìë™ ì±„ìš°ê¸°
const autoFillForm = (metadata: SocialMetadata) => {
  setViewCount(metadata.views);
  setLikeCount(metadata.likes);
  setCommentCount(metadata.comments);
  setTopComments(metadata.top_comments);
};
```

---

## ğŸ”— **API ì—°ë™ ìš”êµ¬ì‚¬í•­**

### **ì‹ ê·œ API ì—”ë“œí¬ì¸íŠ¸**: `/api/extract-social-metadata`
```typescript
// ìš”ì²­ í˜•ì‹
POST /api/extract-social-metadata
{
  "url": "https://instagram.com/p/ABC123",
  "platform": "instagram"
}

// ì‘ë‹µ í˜•ì‹  
{
  "success": true,
  "data": {
    "content_id": "ABC123",
    "views": 12500,
    "likes": 850,
    "comments": 45,
    "top_comments": ["ëŒ“ê¸€1", "ëŒ“ê¸€2"],
    "extraction_time": "2025-08-20T21:30:00Z"
  }
}
```

---

## ğŸš¨ **ì—ëŸ¬ ì²˜ë¦¬ ìš”êµ¬ì‚¬í•­**

### **Graceful Fallback**: ì¶”ì¶œ ì‹¤íŒ¨ì‹œ ìˆ˜ë™ ì…ë ¥ ëª¨ë“œ
```typescript
try {
  const metadata = await extractMetadata(url, platform);
  autoFillForm(metadata);
  setExtractionStatus('success');
} catch (error) {
  setExtractionStatus('failed');
  // ìˆ˜ë™ ì…ë ¥ ëª¨ë“œë¡œ ì „í™˜
  setManualMode(true);
}
```

### **ì§„í–‰ë¥  í‘œì‹œ**: ì¶”ì¶œ ì¤‘ ë¡œë”© ìƒíƒœ
```typescript
const [extractionStatus, setExtractionStatus] = useState<'idle' | 'extracting' | 'success' | 'failed'>('idle');

// UI ìƒíƒœë³„ í‘œì‹œ
{extractionStatus === 'extracting' && <LoadingSpinner text="ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ì¤‘..." />}
{extractionStatus === 'failed' && <Alert>ìë™ ì¶”ì¶œ ì‹¤íŒ¨ - ìˆ˜ë™ ì…ë ¥ìœ¼ë¡œ ì „í™˜ë©ë‹ˆë‹¤</Alert>}
```

---

## ğŸ§ª **í…ŒìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­**

### **í…ŒìŠ¤íŠ¸ URL ì˜ˆì‹œ**:
- Instagram: `https://instagram.com/p/ABC123` 
- TikTok: `https://tiktok.com/@user/video/123`
- ë¬´íš¨ URL: ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

### **ì„±ëŠ¥ ëª©í‘œ**:
- **ì¶”ì¶œ ì‹œê°„**: <5ì´ˆ
- **í¼ ì±„ìš°ê¸°**: <1ì´ˆ  
- **ì´ ì²˜ë¦¬ ì‹œê°„**: <10ì´ˆ (ê¸°ì¡´ 5-8ë¶„ ëŒ€ë¹„ 95% ë‹¨ì¶•)

---

## âœ… **ì™„ë£Œ ì¡°ê±´**

1. **PlatformWizard ì»´í¬ë„ŒíŠ¸ ì™„ì„±** - URL ì…ë ¥ë¶€í„° ìë™ í¼ ì±„ìš°ê¸°ê¹Œì§€
2. **API í†µí•© ì™„ë£Œ** - `/api/extract-social-metadata` ì—°ë™
3. **ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„** - Graceful fallback to manual mode
4. **í…ŒìŠ¤íŠ¸ ì™„ë£Œ** - Instagram/TikTok URL í…ŒìŠ¤íŠ¸ ì„±ê³µ

---

**ğŸš€ ì¦‰ì‹œ ì‹œì‘**: Instagram/TikTok ìë™í™”ë¡œ ì‚¬ìš©ì ê²½í—˜ í˜ì‹ !

**Cursor í™•ì¸ ëª…ë ¹ì–´**: `cd /Users/ted/snap3 && cat .collab-msg-platform-wizard-hybrid`