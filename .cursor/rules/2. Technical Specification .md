**Creation Studio (Chat‑to‑Storyboard) --- Technical Specification
(Prototype)**

**Version:** 1.0 (Prototype scope fixed)\
**Audience:** Product, frontend, backend, applied research\
**Purpose:** Define the end‑to‑end behavior, UI/UX, data contracts, and
acceptance criteria for the **Main → Detail** two‑door experience where
users either (A) click our **Originals** or (B) drop ideas into a **mini
chat** (text / image / video) --- and both routes converge on the same
**Storyboard Detail** page driven by VDP‑aware evidence, **Hook Lab**,
and **Product‑First Frame** guidance. The spec reuses our privacy
boundary (**VDP_FULL private; only VDP_MIN + Evidence public**) and
plugs into the existing compiler → **Veo‑3** prompts pipeline.

**0) Scope & Alignment**

**In scope (prototype):**

-   **Main (Home)**

    -   Top shelf: 3 curated *Original Veo‑3* shorts.

    -   Mid: **Creation Studio** mini chat (multi‑modal input).

    -   Bottom: Infinite feed of *Classic Originals* by category.

-   **Detail (Storyboard Detail)**

    -   Player (preview when available), **Evidence chips + Trust
        gauge**, **Hook Lab**, **Textboard**, **DNA locks & parody
        keys**, **Product‑First Frame** hints, **Compile → Veo‑3
        prompts** (text→video \| image→video first‑frame).

-   **Durations:** Each **scene ≤ 8 s** (Veo‑3 preview unit). Prototype
    supports **up to 60 s** sequences by chaining multiple 8‑second EUs;
    final export may require external crop/trim if the creative uses
    \~6 s of content in an 8 s EU (we do not ship in‑app crop in
    prototype).

-   **Privacy:** No embeds, no link‑outs within the creative flow. VDP
    stays private; **VDP_MIN + Evidence Pack** only.

**Out of scope (prototype):**

-   Multi‑minute editors, ad‑account ops, creator network, heavy
    moderation, in‑app crop/trim, and external embed players in
    Main/Detail. (Preview player arrives with muted‑autoplay policy; QA
    Gate is a separate service.)

**1) Users & Jobs‑to‑be‑Done**

-   **Explorer (B2C user/brand):** "Show me powerful *Originals*; when
    inspiration strikes, let me drop my idea and get a defendable
    storyboard with why‑this‑works evidence."

-   **Maker (solo/agency):** "Upload a product image or draft clip; keep
    8‑sec units tight; auto‑suggest hooks; compile Veo‑3 JSON without
    reading docs."

**2) Main (Home) --- UX & Behavior**

**2.1 Top: Trending Originals (3 cards)**

-   Each card = muted loop preview + title (+ "Open Storyboard").
    Clicking any card opens **Storyboard Detail** prefilled from our
    Original.

-   Acceptance:

    -   **Autoplay:** muted by default; "Tap to unmute" only on Detail
        (browser policy).

    -   **No external embeds**; we render our own preview files only
        when available.

**2.2 Mid: Creation Studio (mini chat)**

-   **Inputs:** text prompt, optional product image (PNG/JPG ≤ 20 MB),
    optional short video (≤ 60 s) *or* reference URL; one message at a
    time.

-   **CTA:** "Make my storyboard".

-   **On submit:** server runs *normalize → (private) VDP → Snap3 Turbo
    → Hook Lab → Evidence Pack → Textboard → Veo‑3 prompts*, then routes
    user to **Storyboard Detail** with results.

**2.3 Bottom: Classics Feed**

-   Category‑personalized grid (Memes / Beauty / F&B / Living). Cards
    behave like Top shelf.

**Main --- Acceptance (P95):** time‑to‑first storyboard from chat ≤ 6 s
for text/URL; ≤ 10 s if short upload is present. Error states follow
typed Problem Details.

**3) Storyboard Detail --- UX, Rules, and Actions**

**3.1 Layout (single page):**

1.  **Player stub** (preview appears when generated; muted autoplay;
    tap‑to‑unmute).

2.  **Evidence Dock**: Trust Score (0--100) + 3--5 chips (Hook ≤ 3 s /
    Tempo / Spec hint / SynthID badge when preview exists).

3.  **Hook Lab (0--3 s arena):** top 5--8 hook candidates with scores;
    replace hook inline.

4.  **Textboard (2--3 cuts ≤ 8.0 s)** with **DNA locks** (immutable
    structure) and **Parody keys** (editable fields).

5.  **Product‑First Frame** (if product scene): image→motion suggestions
    (e.g., *dolly_in*, *parallax*) with first‑frame guidance.

6.  **Compile → Veo‑3** buttons: **Text‑to‑Video** or **Image‑to‑Video
    (first‑frame)**, returning provider‑ready JSON prompts and (when
    run) a preview job.

**3.2 Durations & Composition:**

-   **Hard rule:** each **EU = 8 s, 16:9** to provider; within an EU,
    support 2--3 **jump‑cuts** (e.g., 3 s + 5 s, or 2.5 s + 2.7 s +
    2.8 s).

-   **Sequence to 60 s:** stack EUs (8 s × up to 8 units) for a 1‑minute
    prototype; users may crop externally if only \~6 s are used in a
    given EU.

**3.3 Evidence & Trust:**

-   **Evidence Pack v1.0** prints: benchmark deltas, Trust Score, Digest
    ID (Merkle proof), provenance, SynthID/C2PA signals (when
    applicable). **No raw VDP** fields appear.

**3.4 QA Hints (advisory in prototype):**

-   Remind for **Hook ≤ 3 s**, subtitle legibility, safe‑zones, platform
    floors (e.g., **Reels ≥ 30 fps / ≥ 720p**; **TikTok bitrate
    ≥ 516 kbps**; **Shorts ≤ 3 min** for placement context). Enforcement
    is in the QA service; here we show chips only.

**3.5 Safety & Policy:**

-   Respect provider policy flags (e.g., **personGeneration**) at
    compile time; typed errors for policy blocks/quotas.

**4) System Flow (Happy Path)**

**A) From Originals (card click)** → fetch prebuilt deck → **Detail**
with: Evidence Pack + Hook Lab + Textboard + prompts ready.\
**B) From Creation Studio (chat submit)** → **/normalize**
(URL/file/text) → **/vdp** (private) → **/briefs** (Snap3 Turbo) →
**/hooks** (Hook Lab) → **/compile/veo3** (prompts) → **Detail**.\
**Optional:** **/previs** to render an 8 s preview (async 202 +
polling); muted autoplay on arrival; SynthID badge shown.

**5) Functional Requirements & Acceptance**

**5.1 Creation Studio (mini chat)**

-   **FR‑IN‑1**: Accept one of {text, product image, short video ≤ 60 s,
    URL}.

-   **FR‑IN‑2**: If product image present, mark scene as
    *requires_product* for first‑frame flow.

-   **AC:** Submit returns **Detail URL**; P95 ≤ 6 s (text/URL), ≤ 10 s
    (upload). Errors use Problem Details with actionable hints.

**5.2 Hook Lab**

-   **FR‑HL‑1**: Produce 5--8 hooks; score by {patternBreak, clarity,
    curiosity} ∈ \[0,1\]; show top‑3 inline on Textboard.

-   **AC:** At least one hook within 0--3 s; replace updates Textboard
    header instantly.

**5.3 Textboard (2--3 cuts, ≤ 8.0 s)**

-   **FR‑TB‑1**: Render **DNA locks** (non‑editable shot roles/timing)
    and **Parody keys** (editable camera verbs, captions, CTA).

-   **FR‑TB‑2**: Sum of shot durations = **8.0 s ± 0.05 s**; hook time
    ≤ 3.0 s.

-   **AC:** Any violation highlights the field; Compile is disabled
    until fixed.

**5.4 Product‑First Frame**

-   **FR‑PF‑1**: If *requires_product*, suggest 2--3 **motion cards**
    (e.g., "dolly_in", "parallax", "tilt_reveal").

-   **FR‑PF‑2**: Compile **image→video** prompt using uploaded image as
    **first frame** with the chosen motion plan.

-   **AC:** Missing image → MISSING_FIRST_FRAME error with upload CTA.

**5.5 Compile & Preview**

-   **FR‑VE‑1**: Compile **Veo‑3 Preview** prompts (text→video \|
    image→video) with **aspect 16:9**, **duration 8 s**, **resolution
    720p\|1080p**; enforce **≤ 2 videos/request**; respect per‑project
    **\~10 RPM**.

-   **FR‑VE‑2**: Preview submit returns **202 + /jobs/{id}**; player
    uses **muted autoplay**; show **SynthID** badge when present.

-   **AC:** Unsupported AR/duration → UNSUPPORTED_AR_FOR_PREVIEW; quota
    → PROVIDER_QUOTA_EXCEEDED.

**5.6 Evidence Dock**

-   **FR‑EV‑1**: Show 3--5 chips (Hook, Tempo, one channel spec, one
    provenance/authenticity).

-   **FR‑EV‑2**: Print **Trust Score** + **Digest ID** (Merkle proof
    snippet).

-   **AC:** No raw VDP fields in UI or payloads.

**5.7 QA Hints (advisory)**

-   **FR‑QA‑1**: On Detail, show **Hook ≤ 3 s**, **legible captions**,
    **safe‑zones**, **channel floors** as chips; enforcement is
    delegated to /qa/validate.

-   **AC:** Chips appear consistently; CTA links to full QA check.

**6) Data & Contracts (authoritative references)**

**Externalized shapes used here** (see JSON Schemas):

-   **VDP_MIN (Digest)**, **EvidencePack**, **Textboard (ShotLite)**,
    **MotionFromImage**, **Veo3Prompt**, **PreviewJob**, **Error
    taxonomy**. UI writes/reads only these public forms; **VDP_FULL
    never leaves the enclave**.

**Key endpoints consumed by the UI:**

-   POST /normalize → input metadata & provenance

-   POST /vdp → private analysis → vdpMin.digestId

-   POST /briefs → Snap3 Turbo Textboards (Story/Tone/Wild)

-   POST /hooks/generate → Hook candidates

-   POST /compile/veo3 → prompts (text / image‑to‑video)

-   POST /previs (optional) → 202 + job handle; GET /jobs/{id} →
    mediaUrl + synthId

-   POST /qa/validate (external QA service)\
    Errors return **RFC 9457 Problem Details** with typed code.

**Provider & player constraints baked into contracts:**

-   **Veo‑3 Preview:** 8 s, 16:9, 720p/1080p; text→video & image→video;
    audio cues supported; ≤ 2 vids/request; \~10 RPM/project.

-   **Playback:** **muted autoplay** default; sound only after gesture.
    (QA chips surface platform floors: **Shorts ≤ 3 min**, **Reels
    ≥ 30 fps/≥ 720p**, **TikTok bitrate ≥ 516 kbps**.)

**7) UI Components (operator‑simple, consumer‑friendly)**

-   **Mini Chat (Creation Studio)** --- text box + "Add product image" +
    optional "Upload clip" + "Use a link" (URL).

-   **Evidence Dock** --- compact gauge + 3--5 chips (Hook, Tempo, Spec,
    Provenance/Auth).

-   **Hook Lab** --- cards with 0--3 s hook candidates; swap‑in on
    click.

-   **Textboard** --- 2--3 rows (cuts) with **DNA lock** badges and
    **Parody** editable fields.

-   **Product‑First Frame** --- motion cards (*dolly_in*, *parallax*,
    *tilt_reveal*).

-   **Compile & Preview** --- buttons for prompt build & preview job;
    preview player respects muted autoplay.

**8) Non‑functional Behavior**

-   **Latency:** P95 ≤ 6 s (text/URL) / ≤ 10 s (upload) to first
    storyboard; compiler ≤ 800 ms/variant.

-   **Reliability:** idempotent POSTs via Idempotency-Key; graceful
    rate‑limit with Retry‑After.

-   **Security & Privacy:** RLS per org; signed URLs (TTL) for previews;
    **VDP_FULL never exits** private network.

**9) Acceptance Test Matrix (UI & Flow)**

  --------------------------------------------------------------------------------
  **Area**        **Test**                   **Expected**
  --------------- -------------------------- -------------------------------------
  Creation Studio Text+product image submit  Detail opens ≤ 6 s; Evidence chips
                                             render; Textboard 8.0 s total

  Hook Lab        Top‑3 hooks show & swap    Textboard hook line/time updates;
                                             Evidence recalculates

  Textboard       Sum durations = 8.0 s      Pass (±0.05 s); hook ≤ 3.0 s

  Product‑First   Missing image              MISSING_FIRST_FRAME + upload CTA

  Compile (text)  16:9, 8 s, 720p/1080p      Pass; else UNSUPPORTED_AR_FOR_PREVIEW

  Compile (image) first‑frame motion applied Prompt contains motion plan; policy
                                             flags honored

  Preview         Async job & muted autoplay 202 + job; player mutes by default;
                                             synthId badge shows

  Evidence        Chips + Trust + Digest     No raw VDP; Digest ID present

  QA hints        Hook/Tempo/Safezone/spec   Chips visible; link to /qa/validate
                                             service
  --------------------------------------------------------------------------------

References: contracts, schemas, and typed error codes.

**10) Design Notes & Corpus Rationale (informative)**

-   The Detail page patterns (panic→anticlimax arcs, fast montage,
    subtitle density windows) are consistent with our corpus and sample
    VDPs (e.g., office‑humor *frantic rush → anticlimax* template). We
    surface only digest & evidence --- never the raw VDP.

**11) Deliverables**

-   **Frontend:** Main + Detail pages; components listed in §7; JSON I/O
    bound to schemas in **Data Dictionary v1.0**.

-   **Backend:** Endpoints in **API Contract**; compiler adapter;
    preview job runner stub; Evidence assembly.

-   **Docs:** User‑visible **Functional Spec (Two‑Door UX)**;
    **Prototype Tech Spec** (durations & compile rules); **Snap3 Turbo
    Preview Spec**; **Evidence Pack**; **QA Gate**; **Big Data & Trust**
    (privacy).

**Appendix A --- Minimal Payloads (pointer only)**

Use the authoritative JSON Schemas for:

-   VDP_MIN, EvidencePack, Textboard, MotionFromImage, Veo3Prompt,
    PreviewJob, Error.

**Appendix B --- Platform guardrails surfaced as hints**

-   Shorts ≤ 3 min, Reels ≥ 30 fps/≥ 720p, TikTok bitrate ≥ 516 kbps;
    muted‑autoplay default in browser policy; SynthID watermark
    disclosure when preview exists. (Shown as chips; enforcement lives
    in QA.)

**This Technical Specification stands alone** to implement the two‑door
**Main → Storyboard Detail** product, while remaining fully consistent
with our **Functional**, **Prototype Technical**, **API**,
**Data/Schemas**, **Evidence**, **QA**, **Big Data/Trust**, and **Snap3
Preview** documents.
