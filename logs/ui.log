‚úÖ URL normalizer loaded successfully
üìù [INFO] Server startup initiated  {
  "port": 9001,
  "rawBucket": "tough-variety-raw",
  "goldBucket": "tough-variety-gold",
  "projectId": "tough-variety-466003-c5",
  "region": "unspecified",
  "nodeEnv": "development"
}
‚ö†Ô∏è [WARNING] Using default RAW_BUCKET - consider setting environment variable  {
  "defaultBucket": "tough-variety-raw",
  "recommendedAction": "Set RAW_BUCKET environment variable for region alignment",
  "regionAlignment": "us-central1 recommended for optimal performance"
}
‚úÖ [SUCCESS] VDP Enhanced Web Server started successfully  {
  "serverUrl": "http://localhost:9001",
  "endpoints": {
    "normalization": "POST /api/normalize-url",
    "vdpExtract": "POST /api/vdp/extract-vertex",
    "health": "GET /api/health"
  },
  "features": {
    "jsonOnlyProcessing": true,
    "platformSegmentation": true,
    "contentKeyEnforcement": true,
    "regionalAlignment": false
  }
}
üöÄ Simple web server running on http://localhost:9001
üìù URL normalization endpoint: POST /api/normalize-url
üîó UI available at: http://localhost:9001
üìù URL normalization result: {
  originalUrl: 'https://www.youtube.com/shorts/Kec1NiP8uDc',
  platform: 'youtube',
  id: 'Kec1NiP8uDc',
  canonicalUrl: 'https://www.youtube.com/watch?v=Kec1NiP8uDc'
}
üìù [INFO] JSON-only submission received [19b290fac0d1e44d] {
  "contentType": "application/json",
  "userAgent": "curl/8.7.1",
  "endpoint": "/api/vdp/extract-vertex"
}
üîç [VALIDATION] Field validation results [19b290fac0d1e44d] {
  "validationResult": {
    "hasContentKey": false,
    "hasContentId": true,
    "hasPlatform": true,
    "hasSourceUrl": true
  },
  "extractedFields": {
    "platform": "youtube",
    "content_id": "Kec1NiP8uDc",
    "source_url": "https://www.youtube.com/shorts/Kec1NiP8uDc...",
    "canonical_url": null,
    "video_origin": "real_footage",
    "language": "ko"
  }
}
‚úÖ [SUCCESS] Content key generated successfully [19b290fac0d1e44d] {
  "contentKey": "youtube:Kec1NiP8uDc",
  "platform": "youtube",
  "contentId": "Kec1NiP8uDc",
  "enforcement": "ENABLED",
  "globalUniqueness": true
}
üìù [INFO] Platform-specific paths generated [19b290fac0d1e44d] {
  "requestPath": "gs://tough-variety-raw/ingest/requests/youtube/",
  "outputPath": "gs://tough-variety-raw/raw/vdp/youtube/Kec1NiP8uDc.NEW.universal.json",
  "platform": "youtube",
  "pathStructure": "PLATFORM_SEGMENTED",
  "compliance": "GCS_PATH_STANDARD"
}
‚úÖ [SUCCESS] Ingest request stored successfully [19b290fac0d1e44d] {
  "gcsUri": "gs://tough-variety-raw/ingest/requests/youtube/Kec1NiP8uDc_1755487978692.json",
  "contentKey": "youtube:Kec1NiP8uDc",
  "platform": "youtube",
  "contentId": "Kec1NiP8uDc",
  "fileName": "ingest/requests/youtube/Kec1NiP8uDc_1755487978692.json",
  "pathStructure": "PLATFORM_SEGMENTED",
  "jsonOnlyProcessing": true
}
‚ö° [PERFORMANCE] Request processing completed [19b290fac0d1e44d] {
  "processingTimeMs": 1638,
  "endpoint": "/api/vdp/extract-vertex",
  "contentKey": "youtube:Kec1NiP8uDc",
  "status": "SUCCESS"
}
üìù [INFO] JSON-only submission received [ade1bc4ff80e5e52] {
  "contentType": "application/json",
  "userAgent": "curl/8.7.1",
  "endpoint": "/api/vdp/extract-vertex"
}
üîç [VALIDATION] Field validation results [ade1bc4ff80e5e52] {
  "validationResult": {
    "hasContentKey": false,
    "hasContentId": true,
    "hasPlatform": true,
    "hasSourceUrl": true
  },
  "extractedFields": {
    "platform": "tiktok",
    "content_id": "7255555555555555555",
    "source_url": "https://www.tiktok.com/@someone/video/725555555555...",
    "canonical_url": null,
    "video_origin": "unknown",
    "language": "ko"
  }
}
‚úÖ [SUCCESS] Content key generated successfully [ade1bc4ff80e5e52] {
  "contentKey": "tiktok:7255555555555555555",
  "platform": "tiktok",
  "contentId": "7255555555555555555",
  "enforcement": "ENABLED",
  "globalUniqueness": true
}
üìù [INFO] Platform-specific paths generated [ade1bc4ff80e5e52] {
  "requestPath": "gs://tough-variety-raw/ingest/requests/tiktok/",
  "outputPath": "gs://tough-variety-raw/raw/vdp/tiktok/7255555555555555555.NEW.universal.json",
  "platform": "tiktok",
  "pathStructure": "PLATFORM_SEGMENTED",
  "compliance": "GCS_PATH_STANDARD"
}
‚úÖ [SUCCESS] Ingest request stored successfully [ade1bc4ff80e5e52] {
  "gcsUri": "gs://tough-variety-raw/ingest/requests/tiktok/7255555555555555555_1755487990541.json",
  "contentKey": "tiktok:7255555555555555555",
  "platform": "tiktok",
  "contentId": "7255555555555555555",
  "fileName": "ingest/requests/tiktok/7255555555555555555_1755487990541.json",
  "pathStructure": "PLATFORM_SEGMENTED",
  "jsonOnlyProcessing": true
}
‚ö° [PERFORMANCE] Request processing completed [ade1bc4ff80e5e52] {
  "processingTimeMs": 908,
  "endpoint": "/api/vdp/extract-vertex",
  "contentKey": "tiktok:7255555555555555555",
  "status": "SUCCESS"
}
üìù [INFO] JSON-only submission received [a73b10a0d9307755] {
  "contentType": "application/json",
  "userAgent": "curl/8.7.1",
  "endpoint": "/api/vdp/extract-vertex"
}
üîç [VALIDATION] Field validation results [a73b10a0d9307755] {
  "validationResult": {
    "hasContentKey": false,
    "hasContentId": true,
    "hasPlatform": true,
    "hasSourceUrl": true
  },
  "extractedFields": {
    "platform": "instagram",
    "content_id": "CxxxYYYzzz1",
    "source_url": "https://www.instagram.com/reel/CxxxYYYzzz1/...",
    "canonical_url": null,
    "video_origin": "real_footage",
    "language": "ko"
  }
}
‚úÖ [SUCCESS] Content key generated successfully [a73b10a0d9307755] {
  "contentKey": "instagram:CxxxYYYzzz1",
  "platform": "instagram",
  "contentId": "CxxxYYYzzz1",
  "enforcement": "ENABLED",
  "globalUniqueness": true
}
üìù [INFO] Platform-specific paths generated [a73b10a0d9307755] {
  "requestPath": "gs://tough-variety-raw/ingest/requests/instagram/",
  "outputPath": "gs://tough-variety-raw/raw/vdp/instagram/CxxxYYYzzz1.NEW.universal.json",
  "platform": "instagram",
  "pathStructure": "PLATFORM_SEGMENTED",
  "compliance": "GCS_PATH_STANDARD"
}
‚úÖ [SUCCESS] Ingest request stored successfully [a73b10a0d9307755] {
  "gcsUri": "gs://tough-variety-raw/ingest/requests/instagram/CxxxYYYzzz1_1755488000321.json",
  "contentKey": "instagram:CxxxYYYzzz1",
  "platform": "instagram",
  "contentId": "CxxxYYYzzz1",
  "fileName": "ingest/requests/instagram/CxxxYYYzzz1_1755488000321.json",
  "pathStructure": "PLATFORM_SEGMENTED",
  "jsonOnlyProcessing": true
}
‚ö° [PERFORMANCE] Request processing completed [a73b10a0d9307755] {
  "processingTimeMs": 762,
  "endpoint": "/api/vdp/extract-vertex",
  "contentKey": "instagram:CxxxYYYzzz1",
  "status": "SUCCESS"
}
üìù URL normalization result: {
  originalUrl: 'https://www.youtube.com/shorts/Kec1NiP8uDc',
  platform: 'youtube',
  id: 'Kec1NiP8uDc',
  canonicalUrl: 'https://www.youtube.com/watch?v=Kec1NiP8uDc'
}
üìù [INFO] JSON-only submission received [56dcfc696daf663e] {
  "contentType": "application/json",
  "userAgent": "curl/8.7.1",
  "endpoint": "/api/vdp/extract-vertex"
}
üîç [VALIDATION] Field validation results [56dcfc696daf663e] {
  "validationResult": {
    "hasContentKey": false,
    "hasContentId": true,
    "hasPlatform": true,
    "hasSourceUrl": true
  },
  "extractedFields": {
    "platform": "youtube",
    "content_id": "Kec1NiP8uDc",
    "source_url": "https://www.youtube.com/shorts/Kec1NiP8uDc...",
    "canonical_url": null,
    "video_origin": "real_footage",
    "language": "ko"
  }
}
‚úÖ [SUCCESS] Content key generated successfully [56dcfc696daf663e] {
  "contentKey": "youtube:Kec1NiP8uDc",
  "platform": "youtube",
  "contentId": "Kec1NiP8uDc",
  "enforcement": "ENABLED",
  "globalUniqueness": true
}
üìù [INFO] Platform-specific paths generated [56dcfc696daf663e] {
  "requestPath": "gs://tough-variety-raw/ingest/requests/youtube/",
  "outputPath": "gs://tough-variety-raw/raw/vdp/youtube/Kec1NiP8uDc.NEW.universal.json",
  "platform": "youtube",
  "pathStructure": "PLATFORM_SEGMENTED",
  "compliance": "GCS_PATH_STANDARD"
}
‚úÖ [SUCCESS] Ingest request stored successfully [56dcfc696daf663e] {
  "gcsUri": "gs://tough-variety-raw/ingest/requests/youtube/Kec1NiP8uDc_1755489397743.json",
  "contentKey": "youtube:Kec1NiP8uDc",
  "platform": "youtube",
  "contentId": "Kec1NiP8uDc",
  "fileName": "ingest/requests/youtube/Kec1NiP8uDc_1755489397743.json",
  "pathStructure": "PLATFORM_SEGMENTED",
  "jsonOnlyProcessing": true
}
‚ö° [PERFORMANCE] Request processing completed [56dcfc696daf663e] {
  "processingTimeMs": 805,
  "endpoint": "/api/vdp/extract-vertex",
  "contentKey": "youtube:Kec1NiP8uDc",
  "status": "SUCCESS"
}
üìù [INFO] JSON-only submission received [165a57e2adbb8ac4] {
  "contentType": "application/json",
  "userAgent": "curl/8.7.1",
  "endpoint": "/api/vdp/extract-vertex"
}
üîç [VALIDATION] Field validation results [165a57e2adbb8ac4] {
  "validationResult": {
    "hasContentKey": false,
    "hasContentId": true,
    "hasPlatform": true,
    "hasSourceUrl": true
  },
  "extractedFields": {
    "platform": "tiktok",
    "content_id": "7255555555555555555",
    "source_url": "https://www.tiktok.com/@user/video/725555555555555...",
    "canonical_url": null,
    "video_origin": "unknown",
    "language": "ko"
  }
}
‚úÖ [SUCCESS] Content key generated successfully [165a57e2adbb8ac4] {
  "contentKey": "tiktok:7255555555555555555",
  "platform": "tiktok",
  "contentId": "7255555555555555555",
  "enforcement": "ENABLED",
  "globalUniqueness": true
}
üìù [INFO] Platform-specific paths generated [165a57e2adbb8ac4] {
  "requestPath": "gs://tough-variety-raw/ingest/requests/tiktok/",
  "outputPath": "gs://tough-variety-raw/raw/vdp/tiktok/7255555555555555555.NEW.universal.json",
  "platform": "tiktok",
  "pathStructure": "PLATFORM_SEGMENTED",
  "compliance": "GCS_PATH_STANDARD"
}
‚úÖ [SUCCESS] Ingest request stored successfully [165a57e2adbb8ac4] {
  "gcsUri": "gs://tough-variety-raw/ingest/requests/tiktok/7255555555555555555_1755489419491.json",
  "contentKey": "tiktok:7255555555555555555",
  "platform": "tiktok",
  "contentId": "7255555555555555555",
  "fileName": "ingest/requests/tiktok/7255555555555555555_1755489419491.json",
  "pathStructure": "PLATFORM_SEGMENTED",
  "jsonOnlyProcessing": true
}
‚ö° [PERFORMANCE] Request processing completed [165a57e2adbb8ac4] {
  "processingTimeMs": 774,
  "endpoint": "/api/vdp/extract-vertex",
  "contentKey": "tiktok:7255555555555555555",
  "status": "SUCCESS"
}
üìù [INFO] JSON-only submission received [b4c960548fc1d66b] {
  "contentType": "application/json",
  "userAgent": "curl/8.7.1",
  "endpoint": "/api/vdp/extract-vertex"
}
üîç [VALIDATION] Field validation results [b4c960548fc1d66b] {
  "validationResult": {
    "hasContentKey": false,
    "hasContentId": true,
    "hasPlatform": true,
    "hasSourceUrl": true
  },
  "extractedFields": {
    "platform": "instagram",
    "content_id": "CxxxYYYzzz1",
    "source_url": "https://www.instagram.com/reel/CxxxYYYzzz1/...",
    "canonical_url": null,
    "video_origin": "real_footage",
    "language": "ko"
  }
}
‚úÖ [SUCCESS] Content key generated successfully [b4c960548fc1d66b] {
  "contentKey": "instagram:CxxxYYYzzz1",
  "platform": "instagram",
  "contentId": "CxxxYYYzzz1",
  "enforcement": "ENABLED",
  "globalUniqueness": true
}
üìù [INFO] Platform-specific paths generated [b4c960548fc1d66b] {
  "requestPath": "gs://tough-variety-raw/ingest/requests/instagram/",
  "outputPath": "gs://tough-variety-raw/raw/vdp/instagram/CxxxYYYzzz1.NEW.universal.json",
  "platform": "instagram",
  "pathStructure": "PLATFORM_SEGMENTED",
  "compliance": "GCS_PATH_STANDARD"
}
‚úÖ [SUCCESS] Ingest request stored successfully [b4c960548fc1d66b] {
  "gcsUri": "gs://tough-variety-raw/ingest/requests/instagram/CxxxYYYzzz1_1755489439232.json",
  "contentKey": "instagram:CxxxYYYzzz1",
  "platform": "instagram",
  "contentId": "CxxxYYYzzz1",
  "fileName": "ingest/requests/instagram/CxxxYYYzzz1_1755489439232.json",
  "pathStructure": "PLATFORM_SEGMENTED",
  "jsonOnlyProcessing": true
}
‚ö° [PERFORMANCE] Request processing completed [b4c960548fc1d66b] {
  "processingTimeMs": 750,
  "endpoint": "/api/vdp/extract-vertex",
  "contentKey": "instagram:CxxxYYYzzz1",
  "status": "SUCCESS"
}
