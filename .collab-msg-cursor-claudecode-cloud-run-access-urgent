# ðŸš¨ URGENT: Cloud Run ì ‘ì† ë°©ë²•

## ðŸ“ **í˜„ìž¬ ìƒí™©**
- Universal VDP Clone ì„œë¹„ìŠ¤ êµ¬í˜„ ì™„ë£Œ
- yt-dlp ë‹¤ìš´ë¡œë“œ ë¬¸ì œ ë°œìƒ (í¬ë§· ì˜¤ë¥˜)
- Cloud Run ë°°í¬ í•„ìš”

## ðŸ”§ **Cloud Run ì ‘ì† ë°©ë²•**

### **1. í”„ë¡œì íŠ¸ ì„¤ì •**
```bash
# í”„ë¡œì íŠ¸ ID ì„¤ì •
export PROJECT_ID="tough-variety-466003-c5"
export REGION="us-central1"

# gcloud ì¸ì¦ í™•ì¸
gcloud auth list
gcloud config set project $PROJECT_ID
```

### **2. Universal VDP Clone ì„œë¹„ìŠ¤ ë°°í¬**
```bash
# ì„œë¹„ìŠ¤ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /Users/ted/snap3/services/universal-vdp-clone

# Dockerfile ìƒì„± (ì—†ë‹¤ë©´)
cat > Dockerfile << 'EOF'
FROM node:18-slim

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
EXPOSE 4000

CMD ["node", "server.js"]
EOF

# Cloud Run ë°°í¬
gcloud run deploy universal-vdp-clone \
  --source . \
  --platform managed \
  --region $REGION \
  --allow-unauthenticated \
  --port 4000 \
  --memory 2Gi \
  --cpu 2 \
  --timeout 300 \
  --concurrency 3 \
  --min-instances 1 \
  --max-instances 10 \
  --set-env-vars="GEMINI_API_KEY=AIzaSyDJXHbsrIqdXNYK9HVEskWWKb8M7Q3RWNE"
```

### **3. ì„œë¹„ìŠ¤ URL í™•ì¸**
```bash
# ë°°í¬ í›„ ì„œë¹„ìŠ¤ URL í™•ì¸
gcloud run services describe universal-vdp-clone --region=$REGION --format="value(status.url)"

# ì˜ˆìƒ URL: https://universal-vdp-clone-xxxxx-uc.a.run.app
```

### **4. í—¬ìŠ¤ì²´í¬ ë° í…ŒìŠ¤íŠ¸**
```bash
# í—¬ìŠ¤ì²´í¬
curl -X GET https://universal-vdp-clone-xxxxx-uc.a.run.app/api/health

# VDP ìƒì„± í…ŒìŠ¤íŠ¸
curl -X POST https://universal-vdp-clone-xxxxx-uc.a.run.app/api/vdp/url \
  -H "Content-Type: application/json" \
  -d '{"url": "https://www.youtube.com/shorts/aX5y8wz60ws", "platform": "youtube"}'
```

## ðŸŽ¯ **ìš°ì„ ìˆœìœ„ ìž‘ì—…**

### **Phase 1: ì¦‰ì‹œ ì‹¤í–‰ (15ë¶„)**
1. **Cloud Run ë°°í¬**: Universal VDP Clone ì„œë¹„ìŠ¤
2. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**: GEMINI_API_KEY í¬í•¨
3. **í—¬ìŠ¤ì²´í¬**: ì„œë¹„ìŠ¤ ì •ìƒ ë™ìž‘ í™•ì¸

### **Phase 2: í†µí•© í…ŒìŠ¤íŠ¸ (30ë¶„)**
1. **T1 ì„œë²„ ì—°ë™**: `/api/vdp/universal` ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ì •
2. **3ê°œ URL í…ŒìŠ¤íŠ¸**: YouTube, TikTok, Instagram
3. **VDP í’ˆì§ˆ ê²€ì¦**: 1000ì¤„ ìˆ˜ì¤€ ë‹¬ì„± í™•ì¸

### **Phase 3: ìµœì í™” (15ë¶„)**
1. **ì„±ëŠ¥ íŠœë‹**: Cloud Run ì„¤ì • ìµœì í™”
2. **ì—ëŸ¬ ì²˜ë¦¬**: yt-dlp ëŒ€ì²´ ë°©ì•ˆ ê²€í† 
3. **ëª¨ë‹ˆí„°ë§**: ë¡œê·¸ ë° ë©”íŠ¸ë¦­ ì„¤ì •

## ðŸš¨ **ê¸´ê¸‰ ì²´í¬ë¦¬ìŠ¤íŠ¸**

- [ ] gcloud ì¸ì¦ ìƒíƒœ í™•ì¸
- [ ] í”„ë¡œì íŠ¸ ID ì„¤ì • í™•ì¸
- [ ] Universal VDP Clone ì„œë¹„ìŠ¤ ë°°í¬
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • í™•ì¸
- [ ] í—¬ìŠ¤ì²´í¬ í†µê³¼ í™•ì¸
- [ ] T1 ì„œë²„ ì—°ë™ í…ŒìŠ¤íŠ¸

## ðŸ“ž **ë¬¸ì œ ë°œìƒ ì‹œ**
- **ë°°í¬ ì‹¤íŒ¨**: `gcloud run services list --region=$REGION`
- **ì¸ì¦ ì˜¤ë¥˜**: `gcloud auth login`
- **ê¶Œí•œ ì˜¤ë¥˜**: `gcloud projects get-iam-policy $PROJECT_ID`

**ì¦‰ì‹œ ì‹¤í–‰í•´ì£¼ì„¸ìš”! ðŸš€**
