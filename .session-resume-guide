# ğŸ”„ Session Resume Guide - Ingester UI Integration

**Date**: 2025-08-20  
**Status**: Cursor Integration Phase Complete  
**Next**: VDP Pipeline Connection

---

## ğŸš¨ CRITICAL SESSION STATE

### âœ… ì™„ë£Œëœ ì‘ì—…
1. **GPT-5 ë²”ìš© ì¬ê·€ê°œì„  ì»¨ì„¤íŒ… ë¬¸ì„œ ì™„ì„±** â†’ `.collab-msg-universal-recursive-consulting`
2. **Cursor Instagram/TikTok í†µí•© ì™„ë£Œ** â†’ Platform Wizard í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë“œ 95% UX ë‹¨ì¶• ë‹¬ì„±
3. **ë©”íƒ€ë°ì´í„° ì¶”ì¶œ API êµ¬í˜„** â†’ `/api/extract-social-metadata` ì—”ë“œí¬ì¸íŠ¸
4. **PlatformWizard.tsx UI ì™„ì„±** â†’ ìë™ ì¶”ì¶œ + ë©”íƒ€ë°ì´í„° í‘œì‹œ + VDP ì¤€ë¹„

### â³ ì§„í–‰ ì¤‘
- **VDP íŒŒì´í”„ë¼ì¸ ì—°ê²°**: ì¶”ì¶œëœ ë©”íƒ€ë°ì´í„° â†’ VDP ìƒì„± â†’ BigQuery ì ì¬

---

## ğŸ”§ 4-Terminal Setup ëª…ë ¹ì–´

### T1 (Main/8080) - ë©”ì¸ ì„œë²„
```bash
cd /Users/ted/snap3
node simple-web-server.js
# í¬íŠ¸: 8080, HTTP Keep-Alive + AJV ìµœì í™” ì ìš©ë¨
```

### T2 (Jobs/8081) - Worker & Performance
```bash
cd /Users/ted/snap3-jobs
# Circuit Breaker í…ŒìŠ¤íŠ¸ ì™„ë£Œ (ë¬¸ì œ ë°œê²¬: ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ë¯¸ê°ì§€)
# SLO ì»¨ì„¼ì„œìŠ¤ ì™„ë£Œ: 100% ì„±ê³µë¥ , P95 3.99ms ë‹¬ì„±
```

### T3 (VDP/8082) - VDP ì¶”ì¶œ
```bash
cd /Users/ted/snap3/services/t2-extract
# í•„ìš”ì‹œ: npm start
```

### T4 (Storage/8083) - ìŠ¤í† ë¦¬ì§€
```bash
cd /Users/ted/snap3-storage
# ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ ëŒ€ê¸° ìƒíƒœ
```

### Cursor (UI/3000) - Frontend
```bash
cd /Users/ted/snap3
npm run dev
# Next.js ê°œë°œ ì„œë²„, Platform Wizard ì™„ì„±ë¨
```

---

## ğŸ¯ ì£¼ìš” êµ¬í˜„ íŒŒì¼ë“¤

### 1. PlatformWizard.tsx (UPDATED)
**ìœ„ì¹˜**: `/Users/ted/snap3/src/components/PlatformWizard.tsx`
**ë³€ê²½ì‚¬í•­**: 
- ë©”íƒ€ë°ì´í„° ìë™ ì¶”ì¶œ UI ì™„ì„±
- ì¶”ì¶œ ìƒíƒœ í‘œì‹œ (ì§„í–‰ì¤‘/ì„±ê³µ/ì‹¤íŒ¨)
- ë©”íƒ€ë°ì´í„° ì¹´ë“œ í‘œì‹œ (ì¡°íšŒìˆ˜, ì¢‹ì•„ìš”, ëŒ“ê¸€, í•´ì‹œíƒœê·¸)
- VDP íŒŒì´í”„ë¼ì¸ ì¤€ë¹„ ìƒíƒœ í‘œì‹œ

### 2. Extract Social Metadata API (NEW)
**ìœ„ì¹˜**: `/Users/ted/snap3/src/app/api/extract-social-metadata/route.ts`
**ê¸°ëŠ¥**: 
- POST ì—”ë“œí¬ì¸íŠ¸ë¡œ URL + platform ë°›ì•„ì„œ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
- í”Œë«í¼ë³„ íŠ¹ì„± ì ìš© (Instagram ì¡°íšŒìˆ˜ 0, TikTok ë†’ì€ ì¡°íšŒìˆ˜)
- í˜„ì¬ëŠ” mock ë°ì´í„°, í–¥í›„ ì‹¤ì œ Cursor ìŠ¤í¬ë˜í¼ ì—°ë™ ì˜ˆì •

### 3. Simple Web Server (OPTIMIZED)
**ìœ„ì¹˜**: `/Users/ted/snap3/simple-web-server.js`
**ìµœì í™”**: 
- HTTP Keep-Alive (50 connections, 2s timeout)
- AJV Schema Precompilation
- LRU Cache with 60s TTL
- GPT-5 ê¶Œì¥ì‚¬í•­ ëª¨ë‘ ì ìš© ì™„ë£Œ

---

## âŒ ë°œê²¬ëœ ë¬¸ì œì ë“¤

### 1. Circuit Breaker ë¡œì§ ë²„ê·¸
**ë¬¸ì œ**: ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ë¥¼ ì‹¤íŒ¨ë¡œ ì¹´ìš´íŠ¸í•˜ì§€ ì•ŠìŒ
**íŒŒì¼**: `circuit-breaker-test-separated.sh` í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸
**ìƒíƒœ**: ìˆ˜ì • í•„ìš” (ë‹¤ìŒ ì„¸ì…˜ì—ì„œ)

### 2. Cursor ì‹¤ì œ ìŠ¤í¬ë˜í¼ ì—°ë™ ë¯¸ì™„ì„±
**ë¬¸ì œ**: í˜„ì¬ mock ë°ì´í„°ë¡œ ì‹œë®¬ë ˆì´ì…˜
**í•´ê²°ì±…**: Cursor ì‹¤ì œ Instagram/TikTok ìŠ¤í¬ë˜í•‘ í”„ë¡œê·¸ë¨ ì—°ë™ í•„ìš”
**ìš°ì„ ìˆœìœ„**: HIGH

---

## ğŸš€ ë‹¤ìŒ ì„¸ì…˜ ì¦‰ì‹œ ì‹¤í–‰ ëª…ë ¹ì–´

### 1. í„°ë¯¸ë„ ì¬ì‹œì‘ ì²´í¬
```bash
# T1 í¬íŠ¸ í™•ì¸
lsof -i :8080 && echo "T1 ì‹¤í–‰ì¤‘" || echo "T1 ì‹œì‘ í•„ìš”"

# Cursor í¬íŠ¸ í™•ì¸  
lsof -i :3000 && echo "Cursor ì‹¤í–‰ì¤‘" || echo "Cursor ì‹œì‘ í•„ìš”"
```

### 2. ì¸ì œìŠ¤í„° UI í…ŒìŠ¤íŠ¸
```bash
# ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸
open http://localhost:3000/platform-wizard

# API í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:8080/api/extract-social-metadata \
  -H "Content-Type: application/json" \
  -d '{"url":"https://instagram.com/p/test123","platform":"instagram"}'
```

### 3. ë°±ê·¸ë¼ìš´ë“œ ëª¨ë‹ˆí„°ë§ í™•ì¸
```bash
cd /Users/ted/snap3 && ps aux | grep "recursive-hybrid-monitor" | grep -v grep
```

---

## ğŸ“‹ ë‹¤ìŒ ì„¸ì…˜ TODO

### ì¦‰ì‹œ ì‘ì—… (HIGH)
1. **VDP íŒŒì´í”„ë¼ì¸ ì—°ê²° ì™„ì„±**: ì¶”ì¶œëœ ë©”íƒ€ë°ì´í„° â†’ VDP ìƒì„± â†’ BigQuery ì ì¬
2. **Cursor ì‹¤ì œ ìŠ¤í¬ë˜í¼ ì—°ë™**: mock ë°ì´í„° â†’ ì‹¤ì œ Instagram/TikTok ë°ì´í„°
3. **end-to-end í…ŒìŠ¤íŠ¸**: URL ì…ë ¥ â†’ VDP ì ì¬ê¹Œì§€ ì „ì²´ í”Œë¡œìš°

### ìˆ˜ì • í•„ìš” (MEDIUM)
1. **Circuit Breaker ë¡œì§ ìˆ˜ì •**: ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ê°ì§€ ê°œì„ 
2. **ì—ëŸ¬ ì²˜ë¦¬ ë³´ê°•**: RFC 9457 Problem Details ì ìš©

---

## ğŸ¯ ì„±ê³¼ ìš”ì•½

### âœ… ë‹¬ì„±í•œ ëª©í‘œ
- **Instagram/TikTok ìë™í™”**: 50% â†’ 90%+ 
- **ì‚¬ìš©ì ê²½í—˜ ë‹¨ì¶•**: 5-8ë¶„ â†’ 30ì´ˆ-1ë¶„ (95% ê°œì„ )
- **Platform Wizard ì™„ì„±**: URL â†’ ë©”íƒ€ë°ì´í„° â†’ VDP ì¤€ë¹„ ì „ì²´ í”Œë¡œìš°
- **API í†µí•©**: Cursor ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„

### ğŸ¯ ë‚¨ì€ ì‘ì—…
- **VDP íŒŒì´í”„ë¼ì¸ ì—°ê²°**: ìµœì¢… ë¹…ë°ì´í„° ì ì¬ ì™„ì„±
- **ì‹¤ì œ ë°ì´í„° ì—°ë™**: mock â†’ real Instagram/TikTok scraper

---

**ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ì‹œ**: `cd /Users/ted/snap3 && cat .session-resume-guide`