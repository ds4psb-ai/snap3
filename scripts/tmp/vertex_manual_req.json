{
  "contents": [
    {
      "role": "user",
      "parts": [
        {
          "text": "이 텍스트 프롬프트를 기반으로 hookGenome 스키마를 채우는 샘플 JSON을 생성해 주세요. 실제 비디오가 없으므로 예제 데이터로 채워주세요.\n\n출력은 JSON 스키마를 100% 준수한다.\n특히 overall_analysis.hookGenome 을 반드시 채운다:\n- start_sec: 0~3.0 초 범위에서 최초의 명시적 '후킹' 시점을 소수 초 단위로 기록\n- pattern_code: [\"pattern_break\",\"question\",\"shock\",\"proof\",\"social_proof\",\"problem_solution\",\"joke\",\"meme_reference\",\"other\"] 중 선택\n- delivery: [\"dialogue\",\"voiceover\",\"on_screen_text\",\"visual_gag\",\"sfx_only\"] 중 선택(주방식 1개)\n- trigger_modalities: [\"visual\",\"text\",\"audio\"] 중 관측된 모달리티 나열\n- microbeats_sec: 0~3초 구간 내 컷/온셋 타임스탬프(오름차순, 최대 4개 권장)\n- strength_score: 0~1 스칼라(명료성/호기심/멀티모달/리듬정합/타이밍 가중)\n\n규칙:\n1) Hook window는 0~3초다(반드시 이 구간에서 판정).\n2) 가능한 한 실제 장면/샷/자막/ASR 증거를 근거로 판단한다.\n3) Scenes[0]은 Hook 역할이어야 하며 end_time ≤ 3.0 을 권장한다.\n4) 근거가 불충분하면 pattern_code=\"other\" 로 낮은 strength_score를 부여한다."
        }
      ]
    }
  ],
  "generationConfig": {
    "response_mime_type": "application/json",
    "response_schema": {
      "type": "object",
      "required": [
        "content_id",
        "metadata",
        "overall_analysis",
        "product_mentions",
        "scenes",
        "service_mentions",
        "default_lang"
      ],
      "additionalProperties": false,
      "properties": {
        "content_id": {
          "type": "string",
          "pattern": "^C\\d{6}$",
          "description": "Content identifier in format C######"
        },
        "metadata": {
          "type": "object",
          "required": [
            "comment_count",
            "cta_types",
            "hashtags",
            "like_count",
            "original_sound",
            "platform",
            "share_count",
            "source_url",
            "upload_date",
            "video_origin",
            "view_count"
          ],
          "additionalProperties": false,
          "properties": {
            "comment_count": {
              "type": "integer",
              "minimum": 0,
              "maximum": 1000000000
            },
            "cta_types": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "comment",
                  "share",
                  "follow",
                  "like",
                  "visit_profile",
                  "external_link",
                  "purchase",
                  "subscribe"
                ]
              }
            },
            "hashtags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "like_count": {
              "type": "integer",
              "minimum": 0,
              "maximum": 1000000000
            },
            "original_sound": {
              "type": "boolean",
              "description": "Whether video uses original sound or music"
            },
            "platform": {
              "type": "string",
              "enum": [
                "instagram",
                "tiktok",
                "youtube_shorts"
              ],
              "description": "Social media platform"
            },
            "share_count": {
              "type": "integer",
              "minimum": 0,
              "maximum": 1000000000
            },
            "source_url": {
              "type": "string",
              "description": "Original source URL"
            },
            "upload_date": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",
              "description": "ISO 8601 date format"
            },
            "video_origin": {
              "type": "string",
              "enum": [
                "Real-Footage",
                "AI-Generated",
                "Mixed"
              ],
              "description": "Source type of video content"
            },
            "view_count": {
              "type": "integer",
              "minimum": 0,
              "maximum": 1000000000
            }
          }
        },
        "overall_analysis": {
          "type": "object",
          "required": [
            "asr_transcript",
            "asr_translation_en",
            "audience_reaction",
            "comedic_timing",
            "confidence",
            "emotional_arc",
            "hook_effectiveness",
            "narrative_structure",
            "ocr_text",
            "potential_meme_template",
            "top_comments",
            "hookGenome"
          ],
          "additionalProperties": false,
          "properties": {
            "asr_transcript": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "text",
                  "start_time",
                  "end_time",
                  "confidence"
                ],
                "properties": {
                  "text": {
                    "type": "string"
                  },
                  "start_time": {
                    "type": "number",
                    "minimum": 0
                  },
                  "end_time": {
                    "type": "number",
                    "minimum": 0
                  },
                  "confidence": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  }
                }
              }
            },
            "asr_translation_en": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "text",
                  "start_time",
                  "end_time"
                ],
                "properties": {
                  "text": {
                    "type": "string"
                  },
                  "start_time": {
                    "type": "number",
                    "minimum": 0
                  },
                  "end_time": {
                    "type": "number",
                    "minimum": 0
                  }
                }
              }
            },
            "audience_reaction": {
              "type": "object",
              "required": [
                "common_reactions",
                "notable_comments",
                "overall_sentiment"
              ],
              "properties": {
                "common_reactions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "notable_comments": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "lang",
                      "text",
                      "translation_en"
                    ],
                    "properties": {
                      "lang": {
                        "type": "string"
                      },
                      "text": {
                        "type": "string"
                      },
                      "translation_en": {
                        "type": "string"
                      }
                    }
                  }
                },
                "overall_sentiment": {
                  "type": "string"
                }
              }
            },
            "comedic_timing": {
              "type": "object",
              "required": [
                "beats",
                "overall_rhythm"
              ],
              "properties": {
                "beats": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "type",
                      "timing",
                      "effectiveness"
                    ],
                    "properties": {
                      "type": {
                        "type": "string"
                      },
                      "timing": {
                        "type": "number",
                        "minimum": 0
                      },
                      "effectiveness": {
                        "type": "string",
                        "enum": [
                          "low",
                          "medium",
                          "high"
                        ]
                      }
                    }
                  }
                },
                "overall_rhythm": {
                  "type": "string"
                }
              }
            },
            "confidence": {
              "type": "object",
              "required": [
                "overall",
                "scene_detection",
                "audio_analysis"
              ],
              "properties": {
                "overall": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "scene_detection": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "audio_analysis": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                }
              }
            },
            "emotional_arc": {
              "type": "object",
              "required": [
                "start",
                "peak",
                "end"
              ],
              "properties": {
                "start": {
                  "type": "string"
                },
                "peak": {
                  "type": "string"
                },
                "end": {
                  "type": "string"
                }
              }
            },
            "hook_effectiveness": {
              "type": "object",
              "required": [
                "score",
                "elements",
                "improvement_suggestions"
              ],
              "properties": {
                "score": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 10
                },
                "elements": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "improvement_suggestions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            },
            "narrative_structure": {
              "type": "object",
              "required": [
                "type",
                "components"
              ],
              "properties": {
                "type": {
                  "type": "string"
                },
                "components": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            },
            "ocr_text": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "text",
                  "timestamp",
                  "confidence"
                ],
                "properties": {
                  "text": {
                    "type": "string"
                  },
                  "timestamp": {
                    "type": "number",
                    "minimum": 0
                  },
                  "confidence": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  }
                }
              }
            },
            "potential_meme_template": {
              "type": "object",
              "required": [
                "is_template",
                "template_type",
                "viral_potential"
              ],
              "properties": {
                "is_template": {
                  "type": "boolean"
                },
                "template_type": {
                  "type": "string"
                },
                "viral_potential": {
                  "type": "string",
                  "enum": [
                    "low",
                    "medium",
                    "high"
                  ]
                }
              }
            },
            "top_comments": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "text",
                  "author",
                  "engagement"
                ],
                "properties": {
                  "text": {
                    "type": "string"
                  },
                  "author": {
                    "type": "string"
                  },
                  "engagement": {
                    "type": "object",
                    "required": [
                      "likes",
                      "replies"
                    ],
                    "properties": {
                      "likes": {
                        "type": "integer",
                        "minimum": 0
                      },
                      "replies": {
                        "type": "integer",
                        "minimum": 0
                      }
                    }
                  }
                }
              }
            },
            "hookGenome": {
              "type": "object",
              "required": [
                "start_sec",
                "pattern_code",
                "delivery",
                "trigger_modalities",
                "microbeats_sec",
                "strength_score"
              ],
              "properties": {
                "start_sec": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 3
                },
                "pattern_code": {
                  "type": "string",
                  "enum": [
                    "pattern_break",
                    "question",
                    "shock",
                    "proof",
                    "social_proof",
                    "problem_solution",
                    "joke",
                    "meme_reference",
                    "other"
                  ]
                },
                "delivery": {
                  "type": "string",
                  "enum": [
                    "dialogue",
                    "voiceover",
                    "on_screen_text",
                    "visual_gag",
                    "sfx_only"
                  ]
                },
                "trigger_modalities": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "visual",
                      "text",
                      "audio"
                    ]
                  }
                },
                "microbeats_sec": {
                  "type": "array",
                  "items": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 3
                  }
                },
                "strength_score": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                }
              }
            }
          }
        },
        "product_mentions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "name",
              "type",
              "category",
              "time_ranges",
              "evidence",
              "confidence"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "category": {
                "type": "string"
              },
              "time_ranges": {
                "type": "array",
                "items": {
                  "type": "array",
                  "items": {
                    "type": "number"
                  },
                  "minItems": 2,
                  "maxItems": 2
                }
              },
              "evidence": {
                "type": "object",
                "required": [
                  "ocr",
                  "asr",
                  "visual"
                ],
                "properties": {
                  "ocr": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "asr": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "visual": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "confidence": {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ]
              }
            }
          }
        },
        "scenes": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "scene_id",
              "start_time",
              "end_time",
              "narrative_unit",
              "shots",
              "visual_style",
              "audio_style"
            ],
            "properties": {
              "scene_id": {
                "type": "string"
              },
              "start_time": {
                "type": "number",
                "minimum": 0
              },
              "end_time": {
                "type": "number",
                "minimum": 0
              },
              "narrative_unit": {
                "type": "object",
                "required": [
                  "narrative_role",
                  "summary",
                  "rhetoric"
                ],
                "properties": {
                  "narrative_role": {
                    "type": "string"
                  },
                  "summary": {
                    "type": "string"
                  },
                  "rhetoric": {
                    "type": "string"
                  }
                }
              },
              "shots": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "shot_id",
                    "camera",
                    "keyframes"
                  ],
                  "properties": {
                    "shot_id": {
                      "type": "string"
                    },
                    "camera": {
                      "type": "object",
                      "required": [
                        "angle",
                        "movement",
                        "shot_type"
                      ],
                      "properties": {
                        "angle": {
                          "type": "string"
                        },
                        "movement": {
                          "type": "string"
                        },
                        "shot_type": {
                          "type": "string"
                        }
                      }
                    },
                    "keyframes": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "description",
                          "role",
                          "t_rel_shot"
                        ],
                        "properties": {
                          "description": {
                            "type": "string"
                          },
                          "role": {
                            "type": "string"
                          },
                          "t_rel_shot": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    }
                  }
                }
              },
              "visual_style": {
                "type": "object",
                "required": [
                  "lighting",
                  "mood_palette",
                  "composition"
                ],
                "properties": {
                  "lighting": {
                    "type": "string"
                  },
                  "mood_palette": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "composition": {
                    "type": "object",
                    "required": [
                      "grid_structure",
                      "notes"
                    ],
                    "properties": {
                      "grid_structure": {
                        "type": "string"
                      },
                      "notes": {
                        "type": "string"
                      }
                    }
                  }
                }
              },
              "audio_style": {
                "type": "object",
                "required": [
                  "music",
                  "tone",
                  "ambient_sound"
                ],
                "properties": {
                  "music": {
                    "type": "string"
                  },
                  "tone": {
                    "type": "string"
                  },
                  "ambient_sound": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "service_mentions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "name",
              "type",
              "category",
              "time_ranges",
              "evidence",
              "confidence"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "category": {
                "type": "string"
              },
              "time_ranges": {
                "type": "array",
                "items": {
                  "type": "array",
                  "items": {
                    "type": "number"
                  },
                  "minItems": 2,
                  "maxItems": 2
                }
              },
              "evidence": {
                "type": "object",
                "required": [
                  "ocr",
                  "asr",
                  "visual"
                ],
                "properties": {
                  "ocr": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "asr": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "visual": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "confidence": {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ]
              }
            }
          }
        },
        "default_lang": {
          "type": "string",
          "pattern": "^[a-z]{2}$",
          "description": "ISO 639-1 language code"
        }
      }
    },
    "temperature": 0.2
  }
}
