# ğŸš€ Snap3 VDP Platform - Comprehensive Cursor Rules

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”
**VDP (Video Data Package) RAW Generation Pipeline** - ë©€í‹°í”Œë«í¼ ë¹„ë””ì˜¤ ë¶„ì„ ë° AI ìƒì„± í”Œë«í¼
- **ìƒíƒœ**: Production Ready (2025-08-19)
- **ì•„í‚¤í…ì²˜**: T1(UI/API) â†’ T2(Worker) â†’ T3(Processing) â†’ BigQuery
- **í”Œë«í¼**: YouTube Shorts, Instagram Reels, TikTok

---

## ğŸ—ï¸ í•µì‹¬ ì•„í‚¤í…ì²˜ ê·œì¹™

### MUST (í•„ìˆ˜ ì‚¬í•­)
- **VDP_FULL**: ë‚´ë¶€ ì „ìš©, ì™¸ë¶€ ë…¸ì¶œ ì ˆëŒ€ ê¸ˆì§€
- **Content_ID**: ëª¨ë“  ì¸ì œìŠ¤íŠ¸ ìš”ì²­ì— í•„ìˆ˜, URL ì •ê·œí™” ì„ í–‰
- **Content_Key**: `platform:content_id` í˜•ì‹ìœ¼ë¡œ ê¸€ë¡œë²Œ ìœ ë‹ˆí¬
- **Platform-Segmented GCS**: `gs://bucket/ingest/requests/{platform}/`
- **JSON-Only**: FormData/multipart ê¸ˆì§€
- **Correlation ID**: ëª¨ë“  ìš”ì²­ì— ì¶”ì  ID (`req_timestamp_random`)
- **VDP í•„ìˆ˜ í•„ë“œ**: content_key, content_id, metadata, load_timestamp, load_date

### NEVER (ì ˆëŒ€ ê¸ˆì§€)
- **í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ìš°íšŒ**: í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ ì—†ì´ ì„œë²„ ì‹œì‘
- **Content_ID ëˆ„ë½**: content_id ì—†ì´ ì¸ì œìŠ¤íŠ¸ ì²˜ë¦¬
- **FormData í—ˆìš©**: JSON-only ì •ì±… ìœ„ë°˜
- **Platform ì„¸ê·¸ë¨¼íŠ¸ ëˆ„ë½**: GCS ê²½ë¡œì—ì„œ í”Œë«í¼ ìƒëµ
- **ì˜ëª»ëœ ë²„í‚·**: `tough-variety-raw-central1` ì´ì™¸ ì‚¬ìš©
- **ë¬¸ì„œ ë¶ˆì¼ì¹˜**: ì˜ëª»ëœ ë²„í‚· ì°¸ì¡° í—ˆìš©
- **API ì—”ë“œí¬ì¸íŠ¸ ì˜¤ë¥˜**: `/api/ingest` ëŒ€ì‹  `/api/vdp/extract-vertex` ì‚¬ìš©

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ & ë¼ì´ë¸ŒëŸ¬ë¦¬

### í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
```typescript
// Date & Time
import { format, parseISO } from 'date-fns'

// Pattern Matching
import { match, P } from 'ts-pattern'

// State Management
import { useQuery, useMutation } from '@tanstack/react-query'
import { create } from 'zustand'

// React Hooks
import { useLocalStorage, useDebounce } from 'react-use'

// Utilities
import { pipe, map, filter } from 'es-toolkit'

// Icons
import { Upload, Download, Play, Pause } from 'lucide-react'

// Validation
import { z } from 'zod'

// UI Components
import { Button, Input, Dialog } from '@/components/ui'

// Styling
import { cn } from '@/lib/utils'
```

### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ curator/           # íë ˆì´ì…˜ í˜ì´ì§€
â”‚   â”œâ”€â”€ datasets/          # ë°ì´í„°ì…‹ í˜ì´ì§€
â”‚   â””â”€â”€ onboarding/        # ì˜¨ë³´ë”© í˜ì´ì§€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/               # shadcn-ui ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ curator/          # íë ˆì´ì…˜ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ onboarding/       # ì˜¨ë³´ë”© ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/              # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ errors/           # ì—ëŸ¬ ì²˜ë¦¬
â”‚   â”œâ”€â”€ feature-flags/    # ê¸°ëŠ¥ í”Œë˜ê·¸
â”‚   â”œâ”€â”€ jobs/             # ì‘ì—… í
â”‚   â”œâ”€â”€ schemas/          # Zod ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ storage/          # ìŠ¤í† ë¦¬ì§€ ê´€ë ¨
â””â”€â”€ hooks/                # ì»¤ìŠ¤í…€ í›…
```

---

## ğŸ¯ API ì—”ë“œí¬ì¸íŠ¸ ê·œì¹™

### í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
```typescript
// URL ì •ê·œí™”
POST /api/normalize-url
{
  url: string
}

// VDP ì¸ì œìŠ¤íŠ¸ (ì‹¤ì œ ì²˜ë¦¬)
POST /api/vdp/extract-vertex
{
  content_id: string,
  uploaded_gcs_uri: string,
  processing_options: {
    force_full_pipeline: boolean,
    audio_fingerprint: boolean,
    brand_detection: boolean,
    hook_genome_analysis: boolean
  },
  metadata: {
    platform: "YouTube" | "Instagram" | "TikTok",
    language: string,
    video_origin: "Real-Footage" | "AI-Generated"
  }
}

// ë¹„ë””ì˜¤ ì—…ë¡œë“œ (Instagram/TikTok)
POST /api/upload-video
FormData: { video_file: File }

// ì‘ì—… ìƒíƒœ í™•ì¸
GET /jobs/{id}

// QA ê²€ì¦
POST /api/qa/validate

// ë‚´ë³´ë‚´ê¸°
GET /export/brief/{id}
GET /export/json/{id}
```

### ğŸ–¥ï¸ **ì¸ì œìŠ¤í„° UI ì„œë²„**
**ì¤‘ìš”**: ì¸ì œìŠ¤í„° UI ìš”ì²­ ì‹œ ë°˜ë“œì‹œ `simple-web-server.js`ì˜ 8080 í¬íŠ¸ ì‚¬ìš©

```bash
# ì¸ì œìŠ¤í„° UI ì„œë²„ ì‹¤í–‰
node simple-web-server.js

# ì„œë²„ URL
http://localhost:8080

# ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸
- POST /api/normalize-url     # URL ì •ê·œí™”
- POST /api/vdp/extract-vertex # VDP ì¸ì œìŠ¤íŠ¸
- GET /api/health             # í—¬ìŠ¤ ì²´í¬
```

**UI ì ‘ì† ê·œì¹™**:
- **ì¸ì œìŠ¤í„° UI**: http://localhost:8080 (simple-web-server.js)
- **ë©”ì¸ UI**: http://localhost:3000 (Next.js ì•±)
- **ì¸ì œìŠ¤í„° ìš”ì²­ ì‹œ**: í•­ìƒ 8080 í¬íŠ¸ ìš°ì„  ì‚¬ìš©

### ë¹„ë””ì˜¤ ìƒì„± íŒŒì´í”„ë¼ì¸
```typescript
// Textboard ìƒì„± (2-4ì”¬, 8s)
POST /snap3/turbo

// Veo3 Prompt JSON (8s/16:9/720p|1080p)
POST /compile/veo3

// ë¹„ë™ê¸° ë¯¸ë¦¬ë³´ê¸° (202 + Location)
POST /preview/veo
```

---

## ğŸ”’ ë³´ì•ˆ & í™˜ê²½ë³€ìˆ˜

### í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜
```bash
# GCP Configuration
export PROJECT_ID="tough-variety-466003-c5"
export REGION="us-central1"
export RAW_BUCKET="tough-variety-raw-central1"
export PLATFORM_SEGMENTED_PATH=true

# Service URLs
export T2_URL="https://t2-vdp-355516763169.us-central1.run.app"

# Vertex AI
export MODEL_NAME="gemini-2.5-pro"
export MAX_OUTPUT_TOKENS="16384"

# VDP Processing
export FORCE_FILEDATA="1"
export ASYNC_ENABLED="true"
export EVIDENCE_MODE="true"
export HOOK_MIN_STRENGTH="0.70"
```

### ë³´ì•ˆ ì›ì¹™
- **Supabase RLS**: ëª¨ë“  í…Œë„ŒíŠ¸ í…Œì´ë¸”
- **ì„œëª… URL**: ì—…ë¡œë“œ/ê³µìœ  ì „ìš©
- **ì„œë¹„ìŠ¤ í‚¤**: ì„œë²„ ì „ìš© (í´ë¼ì´ì–¸íŠ¸ ë…¸ì¶œ ê¸ˆì§€)
- **VDP_FULL**: ë‚´ë¶€ ì „ìš©, ì™¸ë¶€ ë…¸ì¶œ ê¸ˆì§€

---

## ğŸ“Š VDP ìŠ¤í‚¤ë§ˆ ê·œì¹™

### í•„ìˆ˜ í•„ë“œ êµ¬ì¡°
```typescript
interface VDP {
  content_id: string;           // C###### í˜•ì‹
  content_key: string;          // platform:content_id
  metadata: {
    platform: "instagram" | "tiktok" | "youtube_shorts";
    view_count: number;
    like_count: number;
    comment_count: number;
    share_count: number;
    upload_date: string;        // ISO 8601
    source_url: string;
    video_origin: "Real-Footage" | "AI-Generated";
    hashtags: string[];
    cta_types: string[];
    original_sound: boolean;
  };
  overall_analysis: {
    hookGenome: {
      start_sec: number;        // â‰¤3.0ì´ˆ
      strength_score: number;   // â‰¥0.70
      pattern_code: string;
      delivery: string;
      trigger_modalities: string[];
    };
    emotional_arc: string;
    asr_transcript: string;
    ocr_text: string;
  };
  scenes: Array<{
    scene_id: string;
    start_time: number;
    end_time: number;
    narrative_type: "Hook" | "Demonstration" | "Problem_Solution";
    shot_details: {
      camera_movement: string;
      keyframes: string[];
      composition: string;
    };
    style_analysis: {
      lighting: string;
      mood_palette: string;
      edit_grammar: string;
    };
  }>;
  product_mentions: ProductMention[];
  service_mentions: ServiceMention[];
  default_lang: string;
  load_timestamp: string;       // RFC-3339 Z
  load_date: string;           // YYYY-MM-DD
}
```

---

## ğŸ¯ í’ˆì§ˆ ê²Œì´íŠ¸ ê·œì¹™

### Hook Gate ê²€ì¦
```typescript
// í•„ìˆ˜ ì¡°ê±´
const hookGateValidation = {
  start_sec: (value: number) => value <= 3.0,
  strength_score: (value: number) => value >= 0.70,
  pattern_detection: (value: any) => !!value.hookGenome
};

// ê²€ì¦ í•¨ìˆ˜
const validateHookGate = (vdp: VDP): boolean => {
  const { hookGenome } = vdp.overall_analysis;
  return hookGateValidation.start_sec(hookGenome.start_sec) &&
         hookGateValidation.strength_score(hookGenome.strength_score) &&
         hookGateValidation.pattern_detection(hookGenome);
};
```

### í”Œë«í¼ë³„ ìš”êµ¬ì‚¬í•­
```typescript
const platformRequirements = {
  reels: {
    resolution: "â‰¥720p",
    framerate: "â‰¥30fps"
  },
  tiktok: {
    bitrate: "â‰¥516kbps"
  },
  shorts: {
    aspect_ratio: "16:9",
    crop_proxy: "UI metadata only"
  }
};
```

---

## ğŸ”„ ë¹„ë™ê¸° ì²˜ë¦¬ íŒ¨í„´

### ì‘ì—… í íŒ¨í„´
```typescript
// ì‘ì—… ìƒì„±
const createJob = async (data: JobData): Promise<JobResponse> => {
  const response = await fetch('/api/jobs', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  });
  
  if (response.status === 202) {
    const location = response.headers.get('Location');
    return { jobId: location?.split('/').pop(), status: 'accepted' };
  }
  
  throw new Error('Job creation failed');
};

// ì‘ì—… ìƒíƒœ í´ë§
const pollJobStatus = async (jobId: string): Promise<JobStatus> => {
  const response = await fetch(`/api/jobs/${jobId}`);
  const data = await response.json();
  
  if (data.status === 'completed') {
    return data;
  } else if (data.status === 'failed') {
    throw new Error(data.error);
  }
  
  // Retry-After í—¤ë” í™•ì¸
  const retryAfter = response.headers.get('Retry-After');
  await new Promise(resolve => setTimeout(resolve, parseInt(retryAfter || '5000')));
  
  return pollJobStatus(jobId);
};
```

---

## ğŸ¨ UI/UX ê·œì¹™

### ì»´í¬ë„ŒíŠ¸ íŒ¨í„´
```typescript
// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ í•„ìˆ˜
'use client';

// ìƒíƒœ ê´€ë¦¬ íŒ¨í„´
const useUploadState = () => {
  const [files, setFiles] = useState<File[]>([]);
  const [uploading, setUploading] = useState(false);
  const [progress, setProgress] = useState<Record<string, number>>({});
  
  return { files, uploading, progress, setFiles, setUploading, setProgress };
};

// í¼ ê²€ì¦ íŒ¨í„´
const uploadSchema = z.object({
  platform: z.enum(['youtube', 'instagram', 'tiktok']),
  url: z.string().url().optional(),
  file: z.instanceof(File).optional(),
  processing_options: z.object({
    force_full_pipeline: z.boolean(),
    audio_fingerprint: z.boolean(),
    brand_detection: z.boolean()
  })
});

// ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
const handleError = (error: unknown) => {
  if (error instanceof z.ZodError) {
    return { type: 'validation', errors: error.errors };
  }
  if (error instanceof Error) {
    return { type: 'runtime', message: error.message };
  }
  return { type: 'unknown', message: 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' };
};
```

### ì ‘ê·¼ì„± ê·œì¹™
```typescript
// ARIA ë¼ë²¨ í•„ìˆ˜
<Button aria-label="ì—…ë¡œë“œ ì‹œì‘" onClick={handleUpload}>
  <Upload className="w-4 h-4" />
</Button>

// í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
<div role="tablist" aria-label="í”Œë«í¼ ì„ íƒ">
  <button role="tab" aria-selected={selected === 'youtube'}>
    YouTube
  </button>
</div>

// ìƒ‰ìƒ ëŒ€ë¹„ ê²€ì¦
const contrastCheck = (foreground: string, background: string) => {
  // WCAG 2.1 AA ê¸°ì¤€ (4.5:1)
  return calculateContrastRatio(foreground, background) >= 4.5;
};
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê·œì¹™

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°
```typescript
// ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
describe('VDP Validation', () => {
  it('should validate hook gate requirements', () => {
    const vdp = createMockVDP({ start_sec: 2.5, strength_score: 0.8 });
    expect(validateHookGate(vdp)).toBe(true);
  });
  
  it('should reject invalid hook timing', () => {
    const vdp = createMockVDP({ start_sec: 5.0, strength_score: 0.8 });
    expect(validateHookGate(vdp)).toBe(false);
  });
});

// í†µí•© í…ŒìŠ¤íŠ¸
describe('API Integration', () => {
  it('should process upload request end-to-end', async () => {
    const response = await request(app)
      .post('/api/vdp/extract-vertex')
      .send(validRequestData);
    
    expect(response.status).toBe(202);
    expect(response.headers.location).toMatch(/\/jobs\/\w+/);
  });
});

// ê³„ì•½ í…ŒìŠ¤íŠ¸
describe('OpenAPI Contract', () => {
  it('should match OpenAPI specification', () => {
    const spec = loadOpenAPISpec();
    const endpoint = spec.paths['/api/vdp/extract-vertex'];
    expect(endpoint.post).toBeDefined();
  });
});
```

---

## ğŸš€ ë°°í¬ & ìš´ì˜ ê·œì¹™

### CI/CD íŒŒì´í”„ë¼ì¸
```yaml
# GitHub Actions
name: Deploy
on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm ci
      - run: npm run test:contracts
      - run: npm run ci:all
      - run: npm run guards

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - run: npm run build
      - run: npm run deploy
```

### ìš´ì˜ ì ê²€
```bash
# ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦
npm run ops:test

# í”Œë«í¼ë³„ í…ŒìŠ¤íŠ¸
npm run ops:youtube
npm run ops:instagram
npm run ops:tiktok

# í—¬ìŠ¤ ì²´í¬
npm run ops:health
```

---

## ğŸ“ ì½”ë”© ìŠ¤íƒ€ì¼ ê·œì¹™

### TypeScript ê·œì¹™
```typescript
// íƒ€ì… ì •ì˜
type Platform = 'youtube' | 'instagram' | 'tiktok';
type VideoOrigin = 'Real-Footage' | 'AI-Generated';
type JobStatus = 'pending' | 'processing' | 'completed' | 'failed';

// ì¸í„°í˜ì´ìŠ¤ ì •ì˜
interface UploadRequest {
  content_id: string;
  platform: Platform;
  processing_options: ProcessingOptions;
  metadata: Metadata;
}

// ìœ ë‹ˆì˜¨ íƒ€ì… í™œìš©
type ValidationResult = 
  | { valid: true; data: VDP }
  | { valid: false; errors: ValidationError[] };

// ì œë„¤ë¦­ í™œìš©
interface ApiResponse<T> {
  data: T;
  status: 'success' | 'error';
  message?: string;
}
```

### í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°
```typescript
// ìˆœìˆ˜ í•¨ìˆ˜
const validateVDP = (vdp: VDP): ValidationResult => {
  const errors: ValidationError[] = [];
  
  if (!vdp.content_id) {
    errors.push({ field: 'content_id', message: 'í•„ìˆ˜ í•„ë“œì…ë‹ˆë‹¤.' });
  }
  
  return errors.length === 0 
    ? { valid: true, data: vdp }
    : { valid: false, errors };
};

// íŒŒì´í”„ë¼ì¸ íŒ¨í„´
const processVDP = pipe(
  validateVDP,
  map(transformVDP),
  filter(qualityGate),
  map(uploadToGCS)
);

// ì»¤ë§ íŒ¨í„´
const createPlatformValidator = (platform: Platform) => 
  (vdp: VDP): boolean => vdp.metadata.platform === platform;
```

---

## ğŸ¯ ì„±ëŠ¥ ìµœì í™” ê·œì¹™

### React ìµœì í™”
```typescript
// ë©”ëª¨ì´ì œì´ì…˜
const MemoizedComponent = memo(({ data }: Props) => {
  return <div>{data.map(item => <Item key={item.id} {...item} />)}</div>;
});

// ì»¤ìŠ¤í…€ í›… ìµœì í™”
const useDebouncedSearch = (query: string, delay: number = 300) => {
  const debouncedQuery = useDebounce(query, delay);
  
  return useQuery({
    queryKey: ['search', debouncedQuery],
    queryFn: () => searchAPI(debouncedQuery),
    enabled: debouncedQuery.length > 0
  });
};

// ê°€ìƒí™” (ëŒ€ìš©ëŸ‰ ë¦¬ìŠ¤íŠ¸)
import { FixedSizeList as List } from 'react-window';

const VirtualizedList = ({ items }: { items: VDP[] }) => (
  <List
    height={400}
    itemCount={items.length}
    itemSize={50}
    itemData={items}
  >
    {({ index, style, data }) => (
      <div style={style}>
        <VDPItem vdp={data[index]} />
      </div>
    )}
  </List>
);
```

### API ìµœì í™”
```typescript
// ë°°ì¹˜ ì²˜ë¦¬
const batchUpload = async (files: File[]): Promise<UploadResult[]> => {
  const chunks = chunk(files, 5); // 5ê°œì”© ë°°ì¹˜
  const results: UploadResult[] = [];
  
  for (const chunk of chunks) {
    const chunkResults = await Promise.all(
      chunk.map(file => uploadFile(file))
    );
    results.push(...chunkResults);
  }
  
  return results;
};

// ìºì‹± ì „ëµ
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000, // 5ë¶„
      cacheTime: 10 * 60 * 1000, // 10ë¶„
      retry: 3,
      retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000)
    }
  }
});
```

---

## ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬ ê·œì¹™

### RFC 9457 Problem Details
```typescript
interface ProblemDetails {
  type: string;
  title: string;
  status: number;
  detail?: string;
  instance?: string;
  errors?: ValidationError[];
}

const createProblemDetails = (
  type: string,
  title: string,
  status: number,
  detail?: string
): ProblemDetails => ({
  type: `https://api.snap3.com/problems/${type}`,
  title,
  status,
  detail,
  instance: new Date().toISOString()
});

// ì—ëŸ¬ ì‘ë‹µ
const errorResponse = (req: Request, error: Error): Response => {
  const problem = createProblemDetails(
    'validation-error',
    'Validation Failed',
    400,
    error.message
  );
  
  return new Response(JSON.stringify(problem), {
    status: 400,
    headers: {
      'Content-Type': 'application/problem+json',
      'Content-Language': 'ko'
    }
  });
};
```

### ì—ëŸ¬ ì½”ë“œ ì •ì˜
```typescript
const ErrorCodes = {
  CONTENT_ID_MISSING: 'CONTENT_ID_MISSING',
  PLATFORM_MISSING: 'PLATFORM_MISSING',
  FORMDATA_MULTIPART_DETECTED: 'FORMDATA_MULTIPART_DETECTED',
  PLATFORM_SEGMENTATION_MISSING: 'PLATFORM_SEGMENTATION_MISSING',
  BUCKET_VALIDATION_FAILED: 'BUCKET_VALIDATION_FAILED',
  HOOK_GATE_FAILED: 'HOOK_GATE_FAILED',
  SCHEMA_VALIDATION_FAILED: 'SCHEMA_VALIDATION_FAILED'
} as const;
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ & ë¡œê¹… ê·œì¹™

### êµ¬ì¡°í™”ëœ ë¡œê¹…
```typescript
interface LogEntry {
  timestamp: string;
  level: 'info' | 'warn' | 'error';
  message: string;
  correlationId: string;
  metadata: Record<string, any>;
}

const logger = {
  info: (message: string, metadata: Record<string, any> = {}) => {
    console.log(JSON.stringify({
      timestamp: new Date().toISOString(),
      level: 'info',
      message,
      correlationId: getCorrelationId(),
      metadata
    }));
  },
  
  error: (message: string, error: Error, metadata: Record<string, any> = {}) => {
    console.error(JSON.stringify({
      timestamp: new Date().toISOString(),
      level: 'error',
      message,
      correlationId: getCorrelationId(),
      error: {
        name: error.name,
        message: error.message,
        stack: error.stack
      },
      metadata
    }));
  }
};
```

### ë©”íŠ¸ë¦­ ìˆ˜ì§‘
```typescript
const metrics = {
  requestDuration: new Histogram({
    name: 'http_request_duration_seconds',
    help: 'HTTP request duration in seconds',
    labelNames: ['method', 'route', 'status']
  }),
  
  vdpProcessingTime: new Histogram({
    name: 'vdp_processing_duration_seconds',
    help: 'VDP processing duration in seconds',
    labelNames: ['platform', 'status']
  }),
  
  hookGateSuccess: new Counter({
    name: 'hook_gate_success_total',
    help: 'Total successful hook gate validations',
    labelNames: ['platform']
  })
};
```

---

## ğŸ¯ ê¸°ëŠ¥ í”Œë˜ê·¸ ê·œì¹™

### í”Œë˜ê·¸ ì •ì˜
```typescript
interface FeatureFlag {
  key: string;
  enabled: boolean;
  description: string;
  rolloutPercentage: number;
  environments: string[];
  userGroups?: string[];
  expiresAt?: Date;
  value?: any;
}

const featureFlags = {
  'new-upload-ui': {
    key: 'new-upload-ui',
    enabled: true,
    description: 'ìƒˆë¡œìš´ ì—…ë¡œë“œ UI',
    rolloutPercentage: 50,
    environments: ['development', 'staging']
  },
  
  'advanced-analytics': {
    key: 'advanced-analytics',
    enabled: false,
    description: 'ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥',
    rolloutPercentage: 0,
    environments: ['development']
  }
};
```

### í”Œë˜ê·¸ ì‚¬ìš©
```typescript
const useFeatureFlag = (flagKey: string): boolean => {
  const { flags } = useFeatureFlags();
  const flag = flags[flagKey];
  
  if (!flag) return false;
  if (!flag.enabled) return false;
  
  // ì‚¬ìš©ì ê·¸ë£¹ ì²´í¬
  if (flag.userGroups && !hasUserGroup(flag.userGroups)) {
    return false;
  }
  
  // ë§Œë£Œì¼ ì²´í¬
  if (flag.expiresAt && new Date() > flag.expiresAt) {
    return false;
  }
  
  // ë¡¤ì•„ì›ƒ í¼ì„¼íŠ¸ ì²´í¬
  return Math.random() * 100 < flag.rolloutPercentage;
};
```

---

## ğŸš€ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê°œë°œ ì‹œì‘ ì „
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • í™•ì¸
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œ í™•ì¸
- [ ] VDP ìŠ¤í‚¤ë§ˆ ê²€í† 
- [ ] í’ˆì§ˆ ê²Œì´íŠ¸ ìš”êµ¬ì‚¬í•­ í™•ì¸
- [ ] ì¸ì œìŠ¤í„° UI ì„œë²„ ì‹¤í–‰ í™•ì¸ (node simple-web-server.js)

### UI ì„œë²„ êµ¬ë¶„
- [ ] **ì¸ì œìŠ¤í„° UI**: http://localhost:8080 (simple-web-server.js)
- [ ] **ë©”ì¸ UI**: http://localhost:3000 (Next.js ì•±)
- [ ] **ì¸ì œìŠ¤í„° ìš”ì²­ ì‹œ**: í•­ìƒ 8080 í¬íŠ¸ ìš°ì„  ì‚¬ìš©

### ì½”ë“œ ì‘ì„± ì‹œ
- [ ] TypeScript íƒ€ì… ì •ì˜
- [ ] Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦
- [ ] ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„
- [ ] ë¡œê¹… ì¶”ê°€
- [ ] í…ŒìŠ¤íŠ¸ ì‘ì„±

### ë°°í¬ ì „
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ìŠ¤í‚¤ë§ˆ ê²€ì¦ í†µê³¼
- [ ] í’ˆì§ˆ ê²Œì´íŠ¸ í†µê³¼
- [ ] ë³´ì•ˆ ê²€ì‚¬ í†µê³¼
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼

### ìš´ì˜ ì¤‘
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ í™•ì¸
- [ ] ì—ëŸ¬ ë¡œê·¸ ê²€í† 
- [ ] ì„±ëŠ¥ ë©”íŠ¸ë¦­ í™•ì¸
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘

---

## ğŸ“š ì°¸ê³  ìë£Œ

### í•µì‹¬ ë¬¸ì„œ
- `CLAUDE.md` - í”„ë¡œì íŠ¸ ê¸°ë³¸ ì„¤ì • ë° ì•„í‚¤í…ì²˜
- `OPERATIONAL_RULES.md` - ìš´ì˜ ê·œì¹™ ë° ì •ì±…
- `QUALITY_GATES_COMPLETE.md` - í’ˆì§ˆ ê²Œì´íŠ¸ êµ¬í˜„
- `PRODUCTION_READY.md` - í”„ë¡œë•ì…˜ ì¤€ë¹„ ìƒíƒœ

### ğŸ–¥ï¸ **UI ì„œë²„ êµ¬ë¶„**
- **ì¸ì œìŠ¤í„° UI**: `simple-web-server.js` (í¬íŠ¸ 8080)
  - URL ì •ê·œí™”, VDP ì¸ì œìŠ¤íŠ¸, íŒŒì¼ ì—…ë¡œë“œ
  - ì‹¤í–‰: `node simple-web-server.js`
  - ì ‘ì†: http://localhost:8080
- **ë©”ì¸ UI**: Next.js ì•± (í¬íŠ¸ 3000)
  - íë ˆì´ì…˜, ë°ì´í„°ì…‹, ì˜¨ë³´ë”©
  - ì‹¤í–‰: `npm run dev`
  - ì ‘ì†: http://localhost:3000

### API ë¬¸ì„œ
- `openapi/openapi.yaml` - OpenAPI 3.1 ìŠ¤í™
- `schemas/` - JSON ìŠ¤í‚¤ë§ˆ ì •ì˜
- `src/lib/schemas/` - Zod ìŠ¤í‚¤ë§ˆ

### í…ŒìŠ¤íŠ¸
- `src/__tests__/` - í…ŒìŠ¤íŠ¸ íŒŒì¼
- `scripts/test-*.sh` - í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

---

## ğŸ¯ **UI ì„œë²„ êµ¬ë¶„ ê·œì¹™**

### **ì¸ì œìŠ¤í„° UI ìš”ì²­ ì‹œ**
- **ì„œë²„**: `simple-web-server.js` (í¬íŠ¸ 8080)
- **URL**: http://localhost:8080
- **ì‹¤í–‰ ëª…ë ¹**: `node simple-web-server.js`
- **ì£¼ìš” ê¸°ëŠ¥**: URL ì •ê·œí™”, VDP ì¸ì œìŠ¤íŠ¸, íŒŒì¼ ì—…ë¡œë“œ

### **ë©”ì¸ UI ìš”ì²­ ì‹œ**
- **ì„œë²„**: Next.js ì•± (í¬íŠ¸ 3000)
- **URL**: http://localhost:3000
- **ì‹¤í–‰ ëª…ë ¹**: `npm run dev`
- **ì£¼ìš” ê¸°ëŠ¥**: íë ˆì´ì…˜, ë°ì´í„°ì…‹, ì˜¨ë³´ë”©

### **ì¤‘ìš” ê·œì¹™**
- **ì¸ì œìŠ¤í„° UI ìš”ì²­**: í•­ìƒ 8080 í¬íŠ¸ ìš°ì„  ì‚¬ìš©
- **ë©”ì¸ UI ìš”ì²­**: 3000 í¬íŠ¸ ì‚¬ìš©
- **í˜¼ë™ ë°©ì§€**: ëª…í™•í•œ ì„œë²„ êµ¬ë¶„ í•„ìˆ˜

---

---

## ğŸ¤ **í˜‘ì—… ì‹œìŠ¤í…œ & ì‚¼ê°í¸ëŒ€ ì›Œí¬í”Œë¡œ**

### âœ… **ì™„ë£Œëœ í˜‘ì—… ì‹œìŠ¤í…œë“¤** (2025-08-20 ê¸°ì¤€)

#### **1. GitHub Actions í†µí•©**
- **GPT-5 Pro ìë™ ì»¨í…ìŠ¤íŠ¸ ìƒì„±**: `.github/workflows/summarize-commits.yml`
- **ì‹¤ì‹œê°„ PR/ì»¤ë°‹ ì»¨í…ìŠ¤íŠ¸**: ìë™ ì—…ë°ì´íŠ¸ ë° ì•Œë¦¼
- **ë¬¸ì„œ ë™ê¸°í™”**: HEAD_SUMMARY.md, CURSOR_CONTEXT.md ìë™ ê°±ì‹ 

#### **2. Triangular Workflow (GPT-5 Pro â†” ClaudeCode â†” Cursor)**
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: Git ê¸°ë°˜ ìƒíƒœ ê³µìœ 
- **ì»¨í…ìŠ¤íŠ¸ ë§í¬**: 10-15ë¶„ â†’ 10-30ì´ˆ ë¡œë”© ì‹œê°„ ë‹¨ì¶•
- **ì—­í•  ë¶„ë‹´**: ì „ëµ(GPT-5) â†’ ì‹¤í–‰(ClaudeCode) â†’ UI(Cursor)

#### **3. 4í„°ë¯¸ë„ ê°€ë“œ ì‹œìŠ¤í…œ**
- **ìŠ¤í¬ë¦½íŠ¸**: `scripts/claudecode-terminal-guard.sh`
- **í„°ë¯¸ë„ ì¡°ì •**: Main T1, Jobs T2, T2VDP T3, Storage T4
- **ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì‘ì—… ìƒíƒœ ì¶”ì 

#### **4. ë¬´í•œ ë£¨í”„ ë°©ì§€ ì‹œìŠ¤í…œ**
- **3-Strike ì œí•œ**: ê°œì„  ì‹œë„ ì œí•œ (í˜„ì¬ 2/3 ì‚¬ìš©)
- **30ë¶„ íƒ€ì´ë¨¸**: ê°œì„  ì‘ì—… ì‹œê°„ ì œí•œ
- **Good Enough ìŠ¹ì¸**: 90% ì™„ì„±ë„ ê¸°ì¤€
- **Production ëª¨ë“œ ì „í™˜**: ì‹¤ì œ ê¸°ëŠ¥ ê°œë°œ ìš°ì„ 

#### **5. ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì‹œìŠ¤í…œ**
- **í˜‘ì—… ì±„ë„**: `scripts/simple-notifier.sh`
- **ë¸Œë¦¬ì§€ ë¸Œëœì¹˜**: ì•ˆì „í•œ í˜‘ì—… ê³µê°„
- **ë©”ì‹œì§€ í˜•ì‹**: `.collab-msg-*` íŒŒì¼ ê¸°ë°˜
- **ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ**: critical, high, medium, low

### ğŸ”„ **í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í†µí•© ì‘ì—…**

#### **Phase 1: Instagram/TikTok ë©”íƒ€ë°ì´í„° ì¶”ì¶œê¸° í†µí•©**
- **ëª©í‘œ**: Instagram/TikTok ìë™í™” ë ˆë²¨ 50% â†’ 90%+
- **API ì„¤ê³„**: `/api/extract-social-metadata` ì—”ë“œí¬ì¸íŠ¸
- **í†µí•© í¬ì¸íŠ¸**: í¬íŠ¸ 8080(ì¸ì œìŠ¤í„°) â†” í¬íŠ¸ 3000(ë©”ì¸ UI)

#### **Cursor ë©”íƒ€ë°ì´í„° ì¶”ì¶œê¸° ê¸°ëŠ¥ ë²”ìœ„**:
```typescript
// Instagram ì¶”ì¶œ ê°€ëŠ¥
interface InstagramExtraction {
  like_count: number;        // âœ… ì •í™•í•œ ìˆ«ì (K/M ë³€í™˜)
  comment_count: number;     // âœ… ì •í™•í•œ ìˆ«ì
  author: string;           // âœ… ì‚¬ìš©ìëª…
  upload_date: string;      // âœ… ISO í˜•ì‹
  hashtags: string[];       // âœ… ë°°ì—´ í˜•íƒœ
  view_count: null;         // âš ï¸ Instagram ë¹„ê³µê°œ
  top_comments: string[];   // âš ï¸ ë³´ì•ˆ ì œí•œì 
  video_download: string;   // âœ… ì›Œí„°ë§ˆí¬ ì—†ëŠ” ì›ë³¸
}

// TikTok ì¶”ì¶œ ê°€ëŠ¥
interface TikTokExtraction {
  view_count: number;       // âœ… ì •í™•í•œ ìˆ«ì
  like_count: number;       // âœ… ì •í™•í•œ ìˆ«ì
  comment_count: number;    // âœ… ì •í™•í•œ ìˆ«ì
  share_count: number;      // âœ… ì •í™•í•œ ìˆ«ì
  author: string;          // âœ… ì‚¬ìš©ìëª… + í”„ë¡œí•„
  upload_date: string;     // âœ… ISO í˜•ì‹
  video_download: string;  // âœ… TIKWM.COM + SSSTIK.IO
}
```

### ğŸ¯ **GPT-5 Pro ì—°ë™ í”„ë¡œí† ì½œ**

#### **ì „ëµì  ì˜ì‚¬ê²°ì • í”„ë¡œì„¸ìŠ¤**:
1. **ì»¨í…ìŠ¤íŠ¸ ì œê³µ**: ì™„ì „í•œ í”„ë¡œì íŠ¸ ìƒí™© ì²¨ë¶€
2. **ì „ëµ ë¶„ì„**: GPT-5 Proì˜ ê³ ìˆ˜ì¤€ ì „ëµ ìˆ˜ë¦½
3. **ì‹¤í–‰ ê³„íš**: ClaudeCodeì˜ êµ¬ì²´ì  êµ¬í˜„ ë°©ì•ˆ
4. **UI êµ¬í˜„**: Cursorì˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê°œë°œ

#### **ì‹¤í–‰ ìŠ¹ì¸ í”Œë¡œìš°**:
```
GPT-5 Pro (ì „ëµ) â†’ ClaudeCode (ì‹¤í–‰) â†’ Cursor (UI) â†’ ì‚¬ìš©ì ìŠ¹ì¸
```

### ğŸš¨ **í˜‘ì—… ì‹œ ì£¼ìš” ê·œì¹™**

### **âš¡ ëª…ë ¹ì–´ ì¤‘ë‹¨ ë°©ì§€ ê·œì¹™**:
1. **ë‹¨ìˆœí•œ commit ë©”ì‹œì§€**: í•œ ì¤„, ì˜ë¬¸ ìœ„ì£¼, ì´ëª¨ì§€ ìµœì†Œí™”
2. **ëª…ë ¹ì–´ ë¶„ë¦¬ ì‹¤í–‰**: `git add .` â†’ `git commit` â†’ `git push` ìˆœì°¨ ì‹¤í–‰
3. **íŠ¹ìˆ˜ ë¬¸ì ì œí•œ**: í•œê¸€, ë³µì¡í•œ ì´ëª¨ì§€, íŠ¹ìˆ˜ ê¸°í˜¸ ìµœì†Œí™”
4. **ì²´ì´ë‹ ê¸ˆì§€**: `&&`ë¡œ ì—°ê²°ëœ ê¸´ ëª…ë ¹ì–´ ì‹œí€€ìŠ¤ ê¸ˆì§€
5. **ê°„ê²°ì„± ìš°ì„ **: ë³µì¡í•œ ë©”ì‹œì§€ë³´ë‹¤ ëª…í™•í•˜ê³  ê°„ë‹¨í•œ ë©”ì‹œì§€

#### **ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹** [[memory:6700247]] - **í•„ìˆ˜ ê·œì¹™**:
1. **íŒŒì¼ ê¸°ë°˜**: `.collab-msg-manual` ë˜ëŠ” `*.md` íŒŒì¼ ì‘ì„±
2. **Git ì „ë‹¬**: `git add . && git commit && git push`
3. **âš ï¸ í™•ì¸ ëª…ë ¹ì–´ í•„ìˆ˜**: ë§ˆì§€ë§‰ì— ìƒëŒ€ë°© í™•ì¸ ë°©ë²• **ë°˜ë“œì‹œ** ì œì‹œ

#### **ğŸš¨ CRITICAL: ë©”ì‹œì§€ ì „ë‹¬ ì‹œ í•„ìˆ˜ í¬í•¨ì‚¬í•­**:
```bash
# í•­ìƒ í¬í•¨í•´ì•¼ í•˜ëŠ” ClaudeCode í™•ì¸ ëª…ë ¹ì–´ ì˜ˆì‹œ:
git pull
cat .collab-msg-[ë©”ì‹œì§€íŒŒì¼ëª…]
[ì¶”ê°€ ì‹¤í–‰ ëª…ë ¹ì–´ë“¤]
```

#### **âŒ ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**:
- ë©”ì‹œì§€ë§Œ ë³´ë‚´ê³  í™•ì¸ ëª…ë ¹ì–´ ìƒëµ
- "í™•ì¸í•´ë³´ì„¸ìš”"ê°™ì€ ëª¨í˜¸í•œ ì•ˆë‚´
- íŒŒì¼ëª…ì´ë‚˜ ê²½ë¡œ ëˆ„ë½
- **ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•œ ì‘ì—…ì— ë¶ˆí•„ìš”í•œ ClaudeCode ë©”ì‹œì§€ ì „ì†¡**

#### **ğŸ”§ Cursor ë…ë¦½ ì²˜ë¦¬ (ClaudeCode ë©”ì‹œì§€ ë¶ˆí•„ìš”)**:
- ë¬¸ì„œí™”, ë¡œê¹…, ê·œì¹™ ì—…ë°ì´íŠ¸
- UI/UX ê°œì„ , ìŠ¤íƒ€ì¼ë§, ì ‘ê·¼ì„±
- í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§, í´ë¼ì´ì–¸íŠ¸ ê²€ì¦
- ì½”ë“œ ì •ë¦¬, ë¦¬íŒ©í† ë§, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### **ğŸ¤ ClaudeCode í˜‘ì—… í•„ìš” (ë©”ì‹œì§€ ì „ë‹¬ í•„ìš”)**:
- API í†µí•©, ì—”ë“œí¬ì¸íŠ¸ ì—°ë™ í…ŒìŠ¤íŠ¸
- ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë³€ê²½, DB ìŠ¤í‚¤ë§ˆ ìˆ˜ì •
- í¬ë¡œìŠ¤ í”Œë«í¼ ê¸°ëŠ¥, í¬íŠ¸ ê°„ í†µì‹ 
- ì„œë²„ ì„¤ì •, í™˜ê²½ë³€ìˆ˜, ë°°í¬ ê´€ë ¨

#### **ë¸Œë¦¬ì§€ ë¸Œëœì¹˜ ì‚¬ìš©**:
- **ì•ˆì „í•œ í˜‘ì—…**: `bridge/cursor-claudecode-YYYYMMDD-HHMMSS`
- **ì¶©ëŒ ë°©ì§€**: main ë¸Œëœì¹˜ ì§ì ‘ ìˆ˜ì • ê¸ˆì§€
- **ë³µêµ¬ ê°€ëŠ¥**: ëª¨ë“  ë³€ê²½ì‚¬í•­ ì¶”ì  ë° ë°±ì—…

#### **ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ**:
- **critical**: ê¸´ê¸‰ ë³µêµ¬, ì‹œìŠ¤í…œ ì¤‘ë‹¨
- **high**: í†µí•© ì‘ì—…, ì¤‘ìš” ê¸°ëŠ¥ ê°œë°œ
- **medium**: ê°œì„  ì‘ì—…, ìµœì í™”
- **low**: ë¬¸ì„œí™”, ì •ë¦¬ ì‘ì—…

### ğŸ“Š **ì„±ëŠ¥ ëª©í‘œ & SLA**

#### **ì‚¬ìš©ì ê²½í—˜ ëª©í‘œ**:
- **ë©”íƒ€ë°ì´í„° ì¶”ì¶œ**: < 30ì´ˆ
- **í¼ ìë™ ì±„ìš°ê¸°**: < 2ì´ˆ
- **VDP ë³€í™˜**: < 5ì´ˆ
- **ì „ì²´ í”Œë¡œìš°**: < 60ì´ˆ

#### **ìë™í™” ìˆ˜ì¤€ ëª©í‘œ**:
- **YouTube**: 100% ìë™í™” âœ… (ì™„ë£Œ)
- **Instagram**: 50% â†’ 90%+ ìë™í™” ğŸ”„ (ì§„í–‰ ì¤‘)
- **TikTok**: 50% â†’ 90%+ ìë™í™” ğŸ”„ (ì§„í–‰ ì¤‘)

#### **í’ˆì§ˆ ê¸°ì¤€**:
- **Hook Gate**: start_sec â‰¤ 3.0ì´ˆ, strength_score â‰¥ 0.70
- **Evidence Pack**: ëª¨ë“  ìƒì„±ë¬¼ì— í•„ìˆ˜ ì²¨ë¶€
- **ì—ëŸ¬ìœ¨**: < 1%
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: > 80%

### ğŸ”§ **ì—ëŸ¬ ì²˜ë¦¬ & í˜‘ì—… ë³µêµ¬**

#### **ì£¼ìš” ì—ëŸ¬ ì½”ë“œ**:
```typescript
const CollaborationErrorCodes = {
  GIT_CONFLICT_DETECTED: 'GIT_CONFLICT_DETECTED',
  BRIDGE_BRANCH_MISSING: 'BRIDGE_BRANCH_MISSING',
  MESSAGE_DELIVERY_FAILED: 'MESSAGE_DELIVERY_FAILED',
  TERMINAL_GUARD_OFFLINE: 'TERMINAL_GUARD_OFFLINE',
  CONTEXT_SYNC_FAILED: 'CONTEXT_SYNC_FAILED',
  INTEGRATION_API_DOWN: 'INTEGRATION_API_DOWN'
} as const;
```

#### **ë³µêµ¬ í”„ë¡œí† ì½œ**:
1. **Git ì¶©ëŒ**: ë¸Œë¦¬ì§€ ë¸Œëœì¹˜ì—ì„œ ë³µêµ¬
2. **ë©”ì‹œì§€ ì‹¤íŒ¨**: íŒŒì¼ ê¸°ë°˜ ë°±ì—… ì „ë‹¬
3. **ì»¨í…ìŠ¤íŠ¸ ì†ì‹¤**: HEAD_SUMMARY.md ì¬ìƒì„±
4. **API ì¤‘ë‹¨**: ìˆ˜ë™ ì…ë ¥ fallback ì œê³µ

### ğŸ¯ **ë‹¤ìŒ ë‹¨ê³„ ë¡œë“œë§µ**

#### **Phase 1 ì™„ë£Œ í›„**:
- **Phase 2**: UI í†µí•© (í¬íŠ¸ 3000 â†” 8080)
- **Phase 3**: 4í„°ë¯¸ë„ ì™„ì „ ì—°ë™
- **Phase 4**: GPT-5 Pro ì „ëµ ì‹œìŠ¤í…œ í†µí•©
- **Phase 5**: ì „ì²´ í”Œë«í¼ í†µì¼ëœ ìë™í™”

---

## ğŸ§  **GPT-5 Pro ì»¨ì„¼ì„œìŠ¤ í”„ë¡œí† ì½œ (NEW v1.0)**

### ğŸš¨ **CRITICAL: GPT-5 ë‹µë³€ ì²˜ë¦¬ í•„ìˆ˜ ê·œì¹™**

#### **GPT-5 ë‹µë³€ ìˆ˜ì‹ ì‹œ ìë™ ì‹¤í–‰:**
1. **ë¶„ì„ ì˜ë¬´**: ëª¨ë“  GPT-5 ë‹µë³€ì„ ì‹¤ìš©ì„±/ìœ„í—˜ì„±/ìš°ì„ ìˆœìœ„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ì„
2. **ì‘ë‹µ í˜•ì‹**: `GPT5-Analysis-Response` + Correlation ID ì‚¬ìš©  
3. **ì‘ë‹µ ì‹œí•œ**: 5ë¶„ ë‚´ ì‘ë‹µ í•„ìˆ˜
4. **í•©ì˜ ëŒ€ê¸°**: ClaudeCodeì™€ í•©ì˜ ë„ë‹¬ê¹Œì§€ ì‘ì—… ì‹œì‘ ê¸ˆì§€

#### **ë¶„ì„ ê¸°ì¤€:**
```yaml
ì‹¤ìš©ì„±: êµ¬í˜„ê°€ëŠ¥ì„±, ì‹œê°„íš¨ìœ¨ì„±, ê¸°ìˆ ì í•©ì„±
ìœ„í—˜ì„±: ì‹œìŠ¤í…œì•ˆì •ì„±, ë³µì¡ë„ì¦ê°€, ìœ ì§€ë³´ìˆ˜ì„±  
ìš°ì„ ìˆœìœ„: ë¹„ì¦ˆë‹ˆìŠ¤ê°€ì¹˜, UXê°œì„ , ê¸°ìˆ ë¶€ì±„ê°ì†Œ
```

#### **ê¶Œì¥ ì‘ë‹µ:**
- **PROCEED**: ì‹¤ìš©ì ì´ê³  ì•ˆì „í•¨
- **MODIFY**: ìˆ˜ì • ì œì•ˆ í¬í•¨
- **REJECT**: ìœ„í—˜í•˜ê±°ë‚˜ ë¹„ì‹¤ìš©ì 

#### **í•©ì˜ ë„ë‹¬ í›„ ì‘ì—… ì‹œì‘:**
- âœ… ì–‘ì¸¡ PROCEED â†’ ì¦‰ì‹œ í˜‘ì—… ì‘ì—… ì‹œì‘
- âš ï¸ ì˜ê²¬ ë¶ˆì¼ì¹˜ â†’ ì‚¬ìš©ì ê°œì… ìš”ì²­
- âŒ ì–‘ì¸¡ REJECT â†’ ì‘ì—… ì§„í–‰ ì¤‘ë‹¨

### âœ… **í˜„ì¬ í•©ì˜ ì™„ë£Œ ì‚¬í•­ (2025-08-20):**
- T1 API ë¸Œë¦¬ì§€ ì™„ì„± í™•ì¸ âœ…
- Phase A ë³‘ë ¬ì‘ì—… ìŠ¹ì¸ âœ…  
- 90ë¶„ ë‚´ ì™„ì„± ëª©í‘œ âœ…
- localhost:3000 â†” 8080 ì—°ë™ âœ…
- ì¦‰ì‹œ ì‹œì‘ í•©ì˜ ì™„ë£Œ âœ…

---

## ğŸ“‹ **2025-08-20 ì˜¤ëŠ˜ ì™„ë£Œëœ ì‘ì—…ë“¤**

### âœ… **Phase 1 Sprint ì™„ë£Œ (30ë¶„ ë‚´)**
- **AI Collaboration Summary Dock Widget** êµ¬í˜„ ì™„ë£Œ
- **ì‹¤ì‹œê°„ í„°ë¯¸ë„ ìƒíƒœ í‘œì‹œ** (T1/T2/T3/T4 + í¬íŠ¸ ìƒíƒœ)
- **GPT-5/ClaudeCode í•©ì˜ ìƒíƒœ ì‹œê°í™”** (91% í•©ì˜ ì ìˆ˜)
- **ì¬ê·€ê°œì„  ì§„í–‰ë¥  í‘œì‹œ** (Phase 1: 33% ì™„ë£Œ)
- **DLQ ë©”ì‹œì§€ ì¹´ìš´í„°** (ì‹¤íŒ¨í•œ ì‘ì—… ìˆ˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
- **Auto-refresh 5ì´ˆ ê°„ê²©** (ìë™/ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨)

### âœ… **API Integration ì™„ë£Œ**
- `GET /api/collaboration/status` - í„°ë¯¸ë„ ìƒíƒœ
- `GET /api/collaboration/consensus` - í•©ì˜ ì ìˆ˜
- `GET /api/collaboration/dlq-stats` - DLQ í†µê³„

### âœ… **UI ìŠ¤í™ ì™„ì „ êµ¬í˜„**
- **Position**: Fixed right panel (width: 320px)
- **Height**: 60% viewport
- **Sections**: Terminal Status, Consensus Score, Current Phase, DLQ Stats

### âœ… **í•©ì˜ ì½˜ì†” êµ¬í˜„ ì™„ë£Œ**
- **/ops/consensus-console í˜ì´ì§€** êµ¬í˜„ ì™„ë£Œ
- **People+AI ê°€ì´ë“œ ì¤€ìˆ˜**: ì„¤ëª…ê°€ëŠ¥ì„±/ì œì–´ê°€ëŠ¥ì„±/ì‹ ë¢°ì„±
- **ì—ì´ì „íŠ¸ë³„ ì œì•ˆ í‘œì‹œ**: GPT-5/ClaudeCode/Cursor ì œì•ˆ ë° ê·¼ê±°
- **í•©ì˜ ê²°ê³¼ í‘œì‹œ**: ìµœì¢… ê²°ì •, ë¦¬ìŠ¤í¬, ë‹¤ìŒ ì•¡ì…˜
- **SLO/SLA ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì„±ëŠ¥ ì§€í‘œ ë° DORA ì§€í‘œ
- **ë¡¤ë°± ê¸°ëŠ¥**: ì‚¬ìš©ì ì œì–´ê¶Œ ë³´ì¥

### âœ… **ì¬ê·€ê°œì„  ì‹œìŠ¤í…œ í†µí•©**
- **GPT-5 Pro ì»¨ì„¤íŒ… ìš”ì²­** í™•ì¸ ì™„ë£Œ
- **ì „ë¬¸ê°€ ì˜ê²¬ ë¶„ì„** ì™„ë£Œ
- **Phase 1â†’2â†’3 ì „ëµ** ìˆ˜ë¦½ ì™„ë£Œ
- **90ë¶„ ìŠ¤í”„ë¦°íŠ¸ ê³„íš** ìˆ˜ë¦½ ì™„ë£Œ

### âœ… **í˜‘ì—… ì‹œìŠ¤í…œ ì—…ê·¸ë ˆì´ë“œ**
- **Git ê¸°ë°˜ ë©”ì‹œì§€ ì „ë‹¬** ì‹œìŠ¤í…œ ì™„ì„±
- **ëª…ë ¹ì–´ ì¤‘ë‹¨ ë°©ì§€** ê·œì¹™ ì ìš©
- **íŒŒì¼ ê¸°ë°˜ í˜‘ì—…** í”„ë¡œí† ì½œ ì™„ì„±
- **ClaudeCode â†” Cursor** í†µì‹  ìµœì í™”

### âœ… **ì„±ëŠ¥ ìµœì í™”**
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§** ì‹œìŠ¤í…œ êµ¬ì¶•
- **ìë™ ìƒˆë¡œê³ ì¹¨** (5ì´ˆ ê°„ê²©)
- **ìƒíƒœë³„ ìƒ‰ìƒ êµ¬ë¶„** (online/offline/error)
- **ë°˜ì‘í˜• ë””ìì¸** ì™„ì„±

---

**ì´ ë£°ì„ ë”°ë¥´ë©´ Snap3 VDP í”Œë«í¼ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì™„ë²½í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸš€**
