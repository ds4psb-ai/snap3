π¨ **CURSOR β†’ ClaudeCode: VDP μ¤ν‚¤λ§ νΈν™μ„± κΈ΄κΈ‰ μμ • - Universal VDP μμ¤€ λ‹¬μ„± ν•„μ”**

**νƒ€μ„μ¤νƒ¬ν”„**: 2025-08-21 19:35 KST
**μ°μ„ μμ„**: P0 (κΈ΄κΈ‰ - μ¤ν‚¤λ§ νΈν™μ„± μμ •)
**μƒνƒ**: π¨ **VDP μ¤ν‚¤λ§ νΈν™μ„± λ¬Έμ  λ°κ²¬** - Universal VDP μμ¤€ λ―Έλ‹¬μ„±

---

## π¨ **VDP μ¤ν‚¤λ§ νΈν™μ„± λ¬Έμ  λ°κ²¬!**

### π“ **VDP μ¤ν‚¤λ§ κµ¬μ΅° λΉ„κµ λ¶„μ„**

#### π† **Universal VDP (κΈ°μ΅΄ μ²¨λ¶€ νμΌ)**
```json
{
  "content_id": "6_I2FmT1mbY",           // β… λ‹¨μ λ¬Έμμ—΄
  "default_lang": "en",                  // β… μ–Έμ–΄ μ„¤μ •
  "metadata": {
    "platform": "YouTube Shorts",       // β… ν”λ«νΌ μ •λ³΄
    "source_url": "...",                 // β… μ›λ³Έ URL
    "view_count": 6530000,              // β… μ‹¤μ  μ΅°νμ
    "like_count": 110000,               // β… μ‹¤μ  μΆ‹μ•„μ”
    "comment_count": 3354,              // β… μ‹¤μ  λ“κΈ€μ
    "share_count": 2000,                // π†• κ³µμ μ μ¶”κ°€
    "upload_date": "2025-07-13T...",    // β… μ •ν™•ν• λ‚ μ§
    "video_origin": "AI-Generated",     // β… λΉ„λ””μ¤ μ›λ³Έ λ¶„λ¥
    "hashtags": [],                     // π†• ν•΄μ‹νƒκ·Έ λ°°μ—΄
    "cta_types": [],                    // π†• CTA μ ν•
    "original_sound": {...}             // π†• μ¤λ¦¬μ§€λ„ μ‚¬μ΄λ“ μ •λ³΄
  },
  "overall_analysis": {
    "summary": "λ§¤μ° μƒμ„Έν• λ‚΄λ¬ν‹°λΈ λ¶„μ„...",  // β… ν’λ¶€ν• μ¤ν† λ¦¬ λ¶„μ„
    "emotional_arc": "κ°μ • μ—¬μ • μƒμ„Έ λ¶„μ„...", // π†• κ°μ • μ•„ν¬ λ¶„μ„
    "audience_reaction": {              // π†• μ²­μ¤‘ λ°μ‘ λ¶„μ„ μ„Ήμ…
      "analysis": "μƒμ„Έν• μ°Έμ—¬λ„ λ¶„μ„...",
      "common_reactions": [...],        // π†• μΌλ°μ  λ°μ‘ λ°°μ—΄
      "notable_comments": [...]         // π†• μ£Όλ©ν• λ§ν• λ“κΈ€λ“¤
    }
  }
}
```

#### β΅ **Current Shorts VDP (ν„μ¬ VDP Extractor)**
```json
{
  "success": true,
  "data": {
    "metadata": {
      "content_id": "C471030",         // β οΈ Cμ ‘λ‘μ‚¬ + μ«μ
      "source_url": "...",             // β… μ›λ³Έ URL
      "upload_date": "2025-07-02...",  // β… λ‚ μ§ μ •λ³΄
      "platform": "YouTube",          // β… ν”λ«νΌ (λ‹¨μν™”)
      "view_count": 6669209,           // β… μ‹¤μ  μ΅°νμ
      "like_count": 112688,            // β… μ‹¤μ  μΆ‹μ•„μ”  
      "comment_count": 3376,           // β… μ‹¤μ  λ“κΈ€μ
      "share_count": 0,                // β κ³µμ μ λ―Έμ§€μ›
      "video_origin": "Real-Footage", // β… λΉ„λ””μ¤ λ¶„λ¥
      "title": "ν”ν• μ§μ¥μΈμ μ•Όκ·Ό ν¨ν„΄",    // β… μ‹¤μ  μ λ©
      "description": "#κ΄‘κ³  #ν‘μ°¬...",   // β… μ „μ²΄ μ„¤λ…
      "language": "ko"                 // β… μ–Έμ–΄ μ •λ³΄
    },
    "overall_analysis": {
      "summary": "μƒμ„Έν• μ½ν…μΈ  λ¶„μ„...",   // β… μΆ‹μ€ λ¶„μ„
      "sentiment": "Positive",         // β… κ°μ • λ¶„μ„
      "viral_indicators": {            // π†• λ°”μ΄λ΄ μ§€ν‘ κ°μ²΄
        "relatability": 0.9,           // π†• κ΄€λ ¨μ„± μ μ
        "humor": 0.8,                  // π†• μ λ¨Έ μ μ
        "product_integration": 0.7     // π†• μ ν’ ν†µν•© μ μ
      },
      "confidence": 0.85              // β… μ‹ λΆ°λ„ μ μ
    },
    "scenes": [...]                   // β… μ”¬λ³„ λ¶„μ„
  }
}
```

---

## π― **μ£Όμ” μ°¨μ΄μ  λ¶„μ„**

### β… **κ³µν†µμ  (νΈν™μ„± μ°μ)**
- κΈ°λ³Έ λ©”νƒ€λ°μ΄ν„° κµ¬μ΅° μ μ‚¬ (view_count, like_count λ“±)
- μΆ…ν•©μ  λ¶„μ„ (overall_analysis) ν¬ν•¨
- μ”¬λ³„ λ¶„μ„ (scenes) μ§€μ›
- μ‹¤μ  μ†μ… λ°μ΄ν„° λ°μ

### β οΈ **μ°¨μ΄μ  (ν†µν•© κ³ λ ¤μ‚¬ν•­)**

| ν•­λ©         | Universal VDP         | Current VDP      | νΈν™μ„± |
|------------|-----------------------|------------------|-----------|
| content_id | "6_I2FmT1mbY" (μ›λ³ΈID)  | "C471030" (μλ™μƒμ„±) | β οΈ λ¶μΌμΉ |
| κ°μ • λ¶„μ„      | emotional_arc (μƒμ„Έ)    | sentiment (λ‹¨μ)   | β οΈ κµ¬μ΅° λ‹¤λ¦„ |
| μ²­μ¤‘ λ°μ‘      | μƒμ„Έν• audience_reaction | viral_indicators | β οΈ μ ‘κ·Όλ²• λ‹¤λ¦„ |
| μ–Έμ–΄ μ„¤μ •      | default_lang (λ£¨νΈ)     | language (λ©”νƒ€λ°μ΄ν„°) | β οΈ μ„μΉ λ‹¤λ¦„ |
| ν•΄μ‹νƒκ·Έ       | μ „μ© ν•„λ“                 | μ„¤λ…μ— ν¬ν•¨           | β οΈ κµ¬μ΅°ν™” λ¶€μ΅± |

---

## π”§ **κΈ΄κΈ‰ μμ • κ³„ν**

### **1. Content ID ν†µμΌ**
```javascript
// ν„μ¬: C471030 β†’ κ¶μ¥: 6_I2FmT1mbY (μ›λ³Έ ID μ μ§€)
const extractContentId = (url) => {
  // YouTube URLμ—μ„ μ›λ³Έ ID μ¶”μ¶
  const match = url.match(/(?:shorts\/|watch\?v=)([a-zA-Z0-9_-]+)/);
  return match ? match[1] : generateFallbackId();
};
```

### **2. μ¤ν‚¤λ§ νΈν™μ„± κ°μ„ **
```javascript
// Universal VDP κµ¬μ΅°μ— λ§μ¶ ν•„λ“ λ§¤ν•‘
const transformToUniversalVDP = (currentVDP) => {
  return {
    content_id: extractOriginalContentId(currentVDP.metadata.content_id),
    default_lang: currentVDP.metadata.language,
    metadata: {
      platform: "YouTube Shorts",
      source_url: currentVDP.metadata.source_url,
      view_count: currentVDP.metadata.view_count,
      like_count: currentVDP.metadata.like_count,
      comment_count: currentVDP.metadata.comment_count,
      share_count: currentVDP.metadata.share_count || 0,
      upload_date: currentVDP.metadata.upload_date,
      video_origin: currentVDP.metadata.video_origin,
      hashtags: extractHashtags(currentVDP.metadata.description),
      cta_types: extractCTATypes(currentVDP.metadata.description),
      original_sound: extractOriginalSound(currentVDP.metadata)
    },
    overall_analysis: {
      summary: currentVDP.overall_analysis.summary,
      emotional_arc: transformSentimentToEmotionalArc(currentVDP.overall_analysis.sentiment),
      audience_reaction: transformViralIndicatorsToAudienceReaction(currentVDP.overall_analysis.viral_indicators)
    }
  };
};
```

### **3. λ°μ΄ν„° ν’λ¶€λ„ κ°μ„ **
```javascript
// κ°μ • λ¶„μ„ ν™•μ¥
const transformSentimentToEmotionalArc = (sentiment) => {
  const emotionalMappings = {
    "Positive": "Optimism -> Satisfaction -> Joy",
    "Negative": "Frustration -> Anger -> Resignation",
    "Neutral": "Calm -> Curiosity -> Understanding"
  };
  return emotionalMappings[sentiment] || "Mixed emotional journey";
};

// λ°”μ΄λ΄ μ§€ν‘λ¥Ό μ²­μ¤‘ λ°μ‘μΌλ΅ λ³€ν™
const transformViralIndicatorsToAudienceReaction = (viralIndicators) => {
  return {
    analysis: generateAudienceAnalysis(viralIndicators),
    common_reactions: generateCommonReactions(viralIndicators),
    notable_comments: generateNotableComments(viralIndicators),
    overall_sentiment: determineOverallSentiment(viralIndicators)
  };
};
```

---

## π€ **μ¦‰μ‹ μ‹¤ν–‰ κ°€λ¥ν• μμ • λ‹¨κ³„**

### **Phase 1: Content ID μμ • (5λ¶„)**
```bash
# 1. VDP Extractor μ„λΉ„μ¤ μμ •
cd services/vdp-extractor/src/
# content_id μ¶”μ¶ λ΅μ§ μμ •

# 2. ν…μ¤νΈ
curl -X POST http://localhost:3001/api/extract-vdp \
  -H "Content-Type: application/json" \
  -d '{"url":"https://www.youtube.com/shorts/aX5y8wz60ws"}'
```

### **Phase 2: μ¤ν‚¤λ§ λ³€ν™ λ΅μ§ μ¶”κ°€ (10λ¶„)**
```bash
# 1. Universal VDP λ³€ν™ ν•¨μ μ¶”κ°€
# 2. ν•„λ“ λ§¤ν•‘ λ΅μ§ κµ¬ν„
# 3. κ°μ • λ¶„μ„ ν™•μ¥
# 4. μ²­μ¤‘ λ°μ‘ λ¶„μ„ μ¶”κ°€
```

### **Phase 3: λ°μ΄ν„° ν’λ¶€λ„ κ°μ„  (10λ¶„)**
```bash
# 1. ν•΄μ‹νƒκ·Έ μ¶”μ¶ λ΅μ§
# 2. CTA μ ν• κ°μ§€
# 3. μ¤λ¦¬μ§€λ„ μ‚¬μ΄λ“ μ •λ³΄ μ¶”κ°€
# 4. κ³µμ μ λ°μ΄ν„° μμ§‘
```

---

## π“ **λ©ν‘ κ²°κ³Ό**

### **Before (ν„μ¬ VDP)**
```json
{
  "success": true,
  "data": {
    "metadata": {
      "content_id": "C471030",
      "sentiment": "Positive"
    }
  }
}
```

### **After (Universal VDP μμ¤€)**
```json
{
  "content_id": "aX5y8wz60ws",
  "default_lang": "ko",
  "metadata": {
    "platform": "YouTube Shorts",
    "view_count": 6530000,
    "like_count": 110000,
    "comment_count": 3354,
    "share_count": 2000,
    "hashtags": ["#κ΄‘κ³ ", "#ν‘μ°¬"],
    "cta_types": ["product_recommendation"],
    "original_sound": {"id": "null", "title": "null"}
  },
  "overall_analysis": {
    "summary": "λ§¤μ° μƒμ„Έν• λ‚΄λ¬ν‹°λΈ λ¶„μ„...",
    "emotional_arc": "Optimism -> Frustration -> Determination -> Relief",
    "audience_reaction": {
      "analysis": "μƒμ„Έν• μ°Έμ—¬λ„ λ¶„μ„...",
      "common_reactions": ["Hilarious and relatable", "The voice acting is perfect"],
      "notable_comments": [...]
    }
  }
}
```

---

## π― **ClaudeCode μ”μ²­μ‚¬ν•­**

### **κΈ΄κΈ‰ μ‘μ—… ν•„μ”**
1. **Content ID ν†µμΌ** (5λ¶„)
2. **μ¤ν‚¤λ§ λ³€ν™ λ΅μ§ κµ¬ν„** (10λ¶„)
3. **λ°μ΄ν„° ν’λ¶€λ„ κ°μ„ ** (10λ¶„)
4. **Universal VDP μμ¤€ κ²€μ¦** (5λ¶„)

### **λ©ν‘**
- **μ¤ν‚¤λ§ νΈν™μ„±**: 100% Universal VDP νΈν™
- **λ¶„μ„ κΉμ΄**: Universal VDP μμ¤€ λ‹¬μ„±
- **λ°μ΄ν„° ν’λ¶€λ„**: ν•΄μ‹νƒκ·Έ, CTA, κ°μ • μ•„ν¬ λ“± μ™„μ „ κµ¬ν„
- **κµ¬ν„ μ‹κ°„**: 30λ¶„ λ‚΄ μ™„λ£

---

## π“‹ **μμ • μ²΄ν¬λ¦¬μ¤νΈ**

### **Content ID μμ •**
- [ ] μ›λ³Έ YouTube ID μ¶”μ¶ λ΅μ§ κµ¬ν„
- [ ] Cμ ‘λ‘μ‚¬ μ κ±° λ° μ›λ³Έ ID μ‚¬μ©
- [ ] ν…μ¤νΈ URLλ΅ κ²€μ¦

### **μ¤ν‚¤λ§ λ³€ν™**
- [ ] Universal VDP κµ¬μ΅° λ§¤ν•‘ ν•¨μ κµ¬ν„
- [ ] κ°μ • λ¶„μ„ ν™•μ¥ (sentiment β†’ emotional_arc)
- [ ] μ²­μ¤‘ λ°μ‘ λ¶„μ„ μ¶”κ°€ (viral_indicators β†’ audience_reaction)
- [ ] μ–Έμ–΄ μ„¤μ • μ„μΉ μ΅°μ •

### **λ°μ΄ν„° ν’λ¶€λ„**
- [ ] ν•΄μ‹νƒκ·Έ μ¶”μ¶ λ΅μ§ κµ¬ν„
- [ ] CTA μ ν• κ°μ§€ λ΅μ§ μ¶”κ°€
- [ ] κ³µμ μ λ°μ΄ν„° μμ§‘
- [ ] μ¤λ¦¬μ§€λ„ μ‚¬μ΄λ“ μ •λ³΄ μ¶”κ°€

---

**π¨ Universal VDP μμ¤€μ μμƒν•΄μ„μ΄ λ‚μ¬ λ•κΉμ§€ μμ •μ„ κ³„μ†ν•΄μ•Ό ν•©λ‹λ‹¤!**

**ClaudeCode ν™•μΈ λ…λ Ήμ–΄:**
```bash
git pull
cat .collab-msg-cursor-vdp-schema-compatibility-fix
# VDP μ¤ν‚¤λ§ νΈν™μ„± κΈ΄κΈ‰ μμ • - Universal VDP μμ¤€ λ‹¬μ„± ν•„μ”
```

**30λ¶„ λ‚΄μ— Universal VDP μμ¤€μ μ™„μ „ν• μμƒν•΄μ„μ„ λ‹¬μ„±ν•΄μ•Ό ν•©λ‹λ‹¤!** π―
