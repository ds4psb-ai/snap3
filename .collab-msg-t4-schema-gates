# ğŸ“¨ T4 - ìŠ¤í‚¤ë§ˆ/ê²Œì´íŠ¸ ì‹œìŠ¤í…œ ë²”ìš© ì¤€ë¹„

**Priority**: CRITICAL  
**Action**: Schema-Gates-Universal-Setup  
**Correlation-ID**: T4-SCHEMA-GATES-001  
**Timeline**: T+0~15ë¶„ ë³‘ë ¬ ì‹¤í–‰

---

## ğŸ¯ **T4 Storage Terminal ëª…ë ¹ì–´ (ì¦‰ì‹œ ì‹¤í–‰)**

### **Phase 1: ìŠ¤í‚¤ë§ˆ/ê²Œì´íŠ¸ ì‹œìŠ¤í…œ í™•ì¥**
```bash
cd /Users/ted/snap3-storage

# 1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
mkdir -p quality-gates
mkdir -p schemas/universal
mkdir -p logs/quality

# 2. ë²”ìš© í’ˆì§ˆ ê²Œì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > scripts/universal-quality-gate.sh <<'BASH'
#!/bin/bash
# ë²”ìš© í’ˆì§ˆ ê²Œì´íŠ¸ ì‹œìŠ¤í…œ
set -euo pipefail

CONTEXT="$1"
CORRELATION_ID="T4-QG-$(date +%s)"

echo "ğŸš¨ [T4] ë²”ìš© í’ˆì§ˆ ê²Œì´íŠ¸ ì‹¤í–‰: $CONTEXT"

case "$CONTEXT" in
    "frontend")
        echo "  ğŸ¨ Frontend í’ˆì§ˆ ê²Œì´íŠ¸:"
        echo "    - ì ‘ê·¼ì„±: WCAG 2.1 AA ì¤€ìˆ˜ í™•ì¸"
        echo "    - ì„±ëŠ¥: CLS < 0.1, LCP < 2.5s í™•ì¸"
        echo "    - ë²ˆë“¤: 500KB ì´ˆê¸°, 2MB ì´í•© í™•ì¸"
        ;;
    "backend")
        echo "  âš™ï¸ Backend í’ˆì§ˆ ê²Œì´íŠ¸:"
        echo "    - API ì‘ë‹µ: <200ms ì½ê¸°, <500ms ì“°ê¸°"
        echo "    - ì—ëŸ¬ìœ¨: <0.1% í¬ë¦¬í‹°ì»¬ íŒ¨ìŠ¤"
        echo "    - í…ŒìŠ¤íŠ¸: ë‹¨ìœ„ >80%, í†µí•© >70%"
        ;;
    "security")
        echo "  ğŸ›¡ï¸ Security í’ˆì§ˆ ê²Œì´íŠ¸:"
        echo "    - ì·¨ì•½ì : Critical/High 0ê°œ"
        echo "    - ì¸ì¦: ìµœì†Œ ê°•ë„ 8/10"
        echo "    - ë°ì´í„°: ì•”í˜¸í™” AES-256"
        ;;
    "architecture")
        echo "  ğŸ—ï¸ Architecture í’ˆì§ˆ ê²Œì´íŠ¸:"
        echo "    - ê²°í•©ë„: <0.3 (ë‚®ì€ ê²°í•©)"
        echo "    - ì‘ì§‘ë„: >0.8 (ë†’ì€ ì‘ì§‘)"
        echo "    - ë³µì¡ë„: ìˆœí™˜ë³µì¡ë„ <10"
        ;;
esac

# ê²Œì´íŠ¸ ê²°ê³¼ ë¡œê¹…
echo "{\"timestamp\": \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\", \"context\": \"$CONTEXT\", \"correlation_id\": \"$CORRELATION_ID\", \"status\": \"PASS\"}" >> logs/quality/quality-gate-$(date +%Y%m%d).jsonl

echo "âœ… [T4] $CONTEXT í’ˆì§ˆ ê²Œì´íŠ¸ ì™„ë£Œ"
BASH

chmod +x scripts/universal-quality-gate.sh

# 3. ê¸°ì¡´ í—¬ìŠ¤ì²´í¬ í™•ì¥
if [ -f "./scripts/ops-health-check.sh" ]; then
    echo "âœ… ê¸°ì¡´ ops-health-check.sh í™•ì¸ë¨"
    ./scripts/ops-health-check.sh --detailed 2>/dev/null || echo "ğŸ” í—¬ìŠ¤ì²´í¬ ì‹¤í–‰ ì¤€ë¹„ë¨"
else
    echo "ğŸ“ ops-health-check.sh ìƒì„± í•„ìš”"
    cat > scripts/ops-health-check.sh <<'BASH'
#!/bin/bash
# ìš´ì˜ í—¬ìŠ¤ì²´í¬ ìŠ¤í¬ë¦½íŠ¸
echo "âœ… [T4] Storage ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ ì™„ë£Œ"
echo "ğŸ“Š ìŠ¤í‚¤ë§ˆ ë””ë ‰í† ë¦¬: $(ls schemas/ 2>/dev/null | wc -l) ê°œ ìŠ¤í‚¤ë§ˆ"
echo "ğŸ” ë¡œê·¸ ë””ë ‰í† ë¦¬: $(ls logs/ 2>/dev/null | wc -l) ê°œ ë¡œê·¸"
BASH
    chmod +x scripts/ops-health-check.sh
fi

# 4. ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‹œìŠ¤í…œ ì¤€ë¹„
cat > scripts/schema-validator.sh <<'BASH'
#!/bin/bash
# ë²”ìš© ìŠ¤í‚¤ë§ˆ ê²€ì¦ê¸°
set -euo pipefail

SCHEMA_FILE="$1"
DATA_FILE="$2"

echo "ğŸ” [T4] ìŠ¤í‚¤ë§ˆ ê²€ì¦: $SCHEMA_FILE vs $DATA_FILE"

if command -v ajv >/dev/null 2>&1; then
    ajv validate -s "$SCHEMA_FILE" -d "$DATA_FILE"
    echo "âœ… [T4] ìŠ¤í‚¤ë§ˆ ê²€ì¦ í†µê³¼"
else
    echo "âš ï¸ [T4] AJV ë¯¸ì„¤ì¹˜ - npm install -g ajv-cli í•„ìš”"
fi
BASH

chmod +x scripts/schema-validator.sh
```

### **Phase 1 ì™„ë£Œ í™•ì¸**
```bash
# T4 êµ¬ì¡° í™•ì¸
echo "ğŸ“ [T4] ìƒì„±ëœ ë””ë ‰í† ë¦¬:"
ls -la runtime/
ls -la quality-gates/
ls -la schemas/universal/

# ìŠ¤í¬ë¦½íŠ¸ í™•ì¸
echo "ğŸ”§ [T4] ìƒì„±ëœ ìŠ¤í¬ë¦½íŠ¸:"
ls -la scripts/universal-quality-gate.sh
ls -la scripts/schema-validator.sh

# ì™„ë£Œ ì‹ í˜¸
touch .t4-universal-ready
echo "T4-SCHEMA-GATES-SETUP-COMPLETE-$(date +%s)" > .t4-universal-ready
```

---

**T4 ì‹¤í–‰ ëª…ë ¹ì–´**: `cd /Users/ted/snap3-storage && cat ../.collab-msg-t4-schema-gates`