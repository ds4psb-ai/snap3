π‰ **CURSOR β†’ GPT-5 Pro CTO: 15λ¶„ ν•«ν”½μ¤ μ„±κ³µ λ³΄κ³ **

**νƒ€μ„μ¤νƒ¬ν”„**: 2025-08-21 10:55 KST
**μ΄ μ†μ”μ‹κ°„**: 15λ¶„ (λ©ν‘ λ‹¬μ„±)
**μƒνƒ**: β… μ™„λ£ - 422 μ—λ¬ ν•΄κ²° μ„±κ³µ

---

## π― **ν•«ν”½μ¤ μ™„λ£ ν„ν™©**

### β… **Phase 1: T3_sub(8082) μ¤ν‚¤λ§ μ •κ·ν™”** (10λ¶„ μ™„λ£)
- **Zod strict μ¤ν‚¤λ§ κµ¬ν„**: `T3SubStrictSchema` μ¶”κ°€
  - ν—μ© ν‚¤: `gcsUri`, `meta`, `options`λ§
  - `platform` enum: `['instagram', 'tiktok', 'youtube', 'youtube_shorts']` (μ†λ¬Έμ κ°•μ )
  - strict λ¨λ“: μ¶”κ°€ ν‚¤ μλ™ μ°¨λ‹¨

- **μ…λ ¥ sanitizer κµ¬ν„**: `sanitizeT3SubInput()` ν•¨μ
  - λ¶ν— ν‚¤ μλ™ μ κ±° (`metadata`, `processing_options` λ“±)
  - platform μ†λ¬Έμ μλ™ λ³€ν™
  - λ΅κΉ… κ°•ν™” (Raw β†’ Sanitized β†’ Validated)

- **ν—¬μ¤μ—”λ“ν¬μΈνΈ ν‘μ¤€ν™”**:
  - `/healthz` β… μ •μƒ
  - `/readyz` β… μ •μƒ (K8s νΈν™)
  - ν¬νΈ 8082 κ³ μ • ν™•μΈ β…

### β… **Phase 2: T1 μ–΄λ‘ν„° νμ΄λ΅λ“ μ •κ·ν™”** (5λ¶„ μ™„λ£)
- **T3_sub μ „μ© νμ΄λ΅λ“ κµ¬ν„**: 
  ```json
  {
    "gcsUri": "gs://...",
    "meta": { "platform": "instagram", "language": "ko", ... },
    "options": { "saved_metadata": { ... } }
  }
  ```
- **λ©”νƒ€λ°μ΄ν„° μ „λ‹¬**: `options.saved_metadata`λ¥Ό ν†µν• μ°ν μ „λ‹¬
- **platform μ†λ¬Έμ κ°•μ **: T1μ—μ„ μ‚¬μ „ μ •κ·ν™”

---

## π§ **μ¤λ¨ν¬ ν…μ¤νΈ κ²°κ³Ό**

### A) **T3_sub μ„λ²„ μƒνƒ** β…
```bash
# ν—¬μ¤μ²΄ν¬ μ„±κ³µ
curl -s http://localhost:8082/healthz   # β†’ {"status":"healthy"}
curl -s http://localhost:8082/readyz    # β†’ {"status":"healthy"}
```

### B) **422 μ—λ¬ ν•΄κ²° ν™•μΈ** β… **μ„±κ³µ!**
```bash
# μ΄μ „: T3_sub μ¤ν‚¤λ§ λ¶μΌμΉλ΅ 422 VALIDATION_FAILED
# ν„μ¬: μ¤ν‚¤λ§ κ²€μ¦ ν†µκ³Ό, VDP μƒμ„± λ‹¨κ³„κΉμ§€ μ§„ν–‰
```

**ν•µμ‹¬ μ„±κ³Ό**: 
- **422 μ¤ν‚¤λ§ μ—λ¬ β†’ μ™„μ „ ν•΄κ²°**
- **ν„μ¬ μƒνƒ**: VDP μ—”μ§„ μ—°κ²° λ¬Έμ  (λ³„λ„ μ΄μ)
- **μ¤ν‚¤λ§ κ²€μ¦**: β… μ™„λ£ ν†µκ³Ό

---

## π“ **ν•΄κ²°λ λ¬Έμ λ“¤**

### 1. **T3_sub μ¤ν‚¤λ§ λ¶μΌμΉ** β†’ β… ν•΄κ²°
- **μ›μΈ**: `metadata`, `processing_options` λ“± λ¶ν— ν‚¤ μ‚¬μ©
- **ν•΄κ²°**: strict μ¤ν‚¤λ§ + sanitizerλ΅ ν—μ© ν‚¤λ§ ν†µκ³Ό

### 2. **Platform λ€μ†λ¬Έμ λ¬Έμ ** β†’ β… ν•΄κ²°  
- **μ›μΈ**: `Instagram` β†’ enumμ— μ—†μ
- **ν•΄κ²°**: μλ™ μ†λ¬Έμ λ³€ν™ (`instagram`)

### 3. **ν—¬μ¤μ—”λ“ν¬μΈνΈ λ„λ½** β†’ β… ν•΄κ²°
- **μ›μΈ**: `/readyz` μ—”λ“ν¬μΈνΈ μ—†μ
- **ν•΄κ²°**: K8s νΈν™ `/readyz` alias μ¶”κ°€

### 4. **T1 νμ΄λ΅λ“ λΉ„νΈν™** β†’ β… ν•΄κ²°
- **μ›μΈ**: T3_subκ°€ μ²λ¦¬ν•  μ μ—†λ” λ³µμ΅ν• νμ΄λ΅λ“
- **ν•΄κ²°**: T3_sub μ „μ© κ°„μ†ν™” νμ΄λ΅λ“

---

## π¨ **λ°κ²¬λ μ¶”κ°€ μ΄μ** (λ³„λ„ μ²λ¦¬ ν•„μ”)

### VDP μ—”μ§„ μ—°κ²° λ¬Έμ  (ν„μ¬ 400 Bad Request)
1. **IntegratedGenAI**: 500 Internal Server Error (Google API μ΄μ)
2. **Vertex AI**: 400 Bad Request - "contents field is required"

**ν•΄κ²° λ°©μ•**: 
- Vertex AI contents κµ¬μ΅° μμ • ν•„μ”
- IntegratedGenAI API ν‚¤ κ²€μ¦ ν•„μ”

---

## π“‹ **λ‹¤μ λ‹¨κ³„ κ¶κ³ **

### μ¦‰μ‹ μ‹¤ν–‰ κ°€λ¥
1. **β… 422 μ—λ¬ ν•΄κ²° μ™„λ£** - T3_sub μ¤ν‚¤λ§ μ •κ·ν™” μ„±κ³µ
2. **T1β†’T3_sub μ—°λ™ ν…μ¤νΈ** - μ‹¤μ  λ©”νƒ€λ°μ΄ν„° ν¨μ¤μ¤λ£¨ κ²€μ¦
3. **Instagram/TikTok ν…μ¤νΈ** - μ‹¤μ  μ†μ… λ©”νƒ€λ°μ΄ν„° λ³΄μ΅΄ ν™•μΈ

### ν›„μ† μ‘μ—… (λ³„λ„ μ„Έμ…)
1. **Vertex AI contents κµ¬μ΅° μμ •** - 400 Bad Request ν•΄κ²°
2. **IntegratedGenAI API ν‚¤ κ²€μ¦** - 500 μ—λ¬ ν•΄κ²°
3. **μΆ…ν•© ν†µν•© ν…μ¤νΈ** - μ „μ²΄ νμ΄ν”„λΌμΈ κ²€μ¦

---

## π― **ν•«ν”½μ¤ μ„±κ³Ό μ”μ•½**

- **λ©ν‘**: 15λ¶„ λ‚΄ T3_sub 422 μ—λ¬ ν•΄κ²°
- **κ²°κ³Ό**: β… **μ„±κ³µ** - 15λ¶„ λ‚΄ μ™„λ£
- **ν•µμ‹¬ μ„±κ³Ό**: μ¤ν‚¤λ§ λ¶μΌμΉ 422 μ—λ¬ μ™„μ „ ν•΄κ²°
- **λ‹¤μ λ‹¨κ³„**: VDP μ—”μ§„ μ—°κ²° λ¬Έμ  (λ³„λ„ μ΄μ)

**GPT-5 Pro CTO**: T3_sub 422 μ—λ¬ ν•΄κ²° μ™„λ£ ν™•μΈ λ° λ‹¤μ λ‹¨κ³„ μ§€μ‹ μ”μ²­

---

**ClaudeCode μ„Έμ…**: GPT-5 Pro CTO ν•«ν”½μ¤ μ™„λ£, ν†µν•© ν…μ¤νΈ λ€κΈ° μ¤‘
**Git μƒνƒ**: λ³€κ²½μ‚¬ν•­ μ»¤λ°‹ μ¤€λΉ„ μ™„λ£
